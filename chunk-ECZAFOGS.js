import{a as ee}from"./chunk-F7BMCWTC.js";import{a as ie}from"./chunk-NJYACOYJ.js";import{a as qt,b as ne,c as oe}from"./chunk-CGZ6YAKA.js";import{d as Wt}from"./chunk-4AZXNQYZ.js";import"./chunk-4QRD2FVP.js";import{a as ue}from"./chunk-JBVRINQ4.js";import{b as tt,c as te}from"./chunk-VDTBWI66.js";import{a as Vt}from"./chunk-FVYYCSO7.js";import{a as H,d as Bt,e as Ut,h as Y}from"./chunk-SCRHCU3P.js";import{I as $t,K as Qt,L as Xt,M as Jt,N as Kt,O as Zt,b as W,c as b,d as $,e as Q,h as X,j as J,k as K,r as Z,s as Ht,t as Yt}from"./chunk-XBHN6RXW.js";import{$a as m,A as Ct,Aa as Mt,Ba as Ft,Ca as u,Cb as Nt,Ea as L,Fa as Lt,G as T,Ha as j,Ia as s,Ib as Dt,J as A,Ja as l,K as rt,Ka as p,Kb as Gt,L as st,M as w,N as St,Na as Ot,O as I,P as at,Pa as z,Ra as Pt,Rb as jt,Sa as Rt,Ta as B,Tb as V,U as N,Ub as q,V as D,Va as lt,Wa as ct,Wb as zt,Xa as mt,Z as It,a as ut,ab as y,ba as G,bb as kt,ca as wt,ga as F,hb as Tt,i as E,ib as U,j as ht,ja as d,ka as h,l as M,lb as _,mb as v,p as gt,tb as At,u as _t,ua as yt,va as xt,wa as C,x as vt,yb as dt,z as bt,za as Et}from"./chunk-NXACR2KX.js";import{h as pe}from"./chunk-K4ALXBGI.js";var x=pe(ue());var ge=["neuronCanvas"],_e=["loginContainer"];function ve(o,c){o&1&&p(0,"img",38)}function be(o,c){o&1&&(s(0,"div",39),p(1,"div",40),l())}function Ce(o,c){o&1&&(s(0,"div",26),p(1,"i",41),s(2,"span"),m(3,"El usuario es requerido"),l()())}function Se(o,c){o&1&&(s(0,"div",26),p(1,"i",41),s(2,"span"),m(3,"La contrase\xF1a es requerida"),l()())}function Ie(o,c){o&1&&(p(0,"span",42),s(1,"span"),m(2,"Autenticando..."),l())}function we(o,c){o&1&&(p(0,"i",43),s(1,"span"),m(2,"Iniciar sesi\xF3n"),l())}var P=(()=>{class o extends Wt{constructor(t,e,n,i,r,a){super(),this._fb=t,this._router=e,this._accountService=n,this._userSessionService=i,this.loaderService=r,this.cartService=a,this.disableGuestButton=!1,this.isLoading=!1,this.animationId=null,this.neurons=[],this.mouse={x:0,y:0}}ngOnInit(){this.formGroup=this._fb.group({username:[null,b.compose([b.required])],password:[null,b.compose([b.required])]}),this.formGroup.valueChanges.subscribe(()=>{let{username:t,password:e}=this.formGroup.value;this.disableGuestButton=!!(t||e)})}ngAfterViewInit(){this.initNeuronNetwork()}ngOnDestroy(){this.animationId&&cancelAnimationFrame(this.animationId)}initNeuronNetwork(){let t=this.neuronCanvas.nativeElement,e=this.loginContainer.nativeElement,n=t.getContext("2d");if(!n)return;let i=()=>{t.width=e.offsetWidth,t.height=e.offsetHeight};i(),window.addEventListener("resize",i);let r=40;for(let f=0;f<r;f++)this.neurons.push(new ft(t.width,t.height));e.addEventListener("mousemove",f=>{let g=e.getBoundingClientRect();this.mouse.x=f.clientX-g.left,this.mouse.y=f.clientY-g.top});let a=()=>{n.clearRect(0,0,t.width,t.height),this.neurons.forEach(f=>{f.update(this.mouse),f.draw(n)}),this.drawConnections(n),this.animationId=requestAnimationFrame(a)};a()}drawConnections(t){for(let n=0;n<this.neurons.length;n++)for(let i=n+1;i<this.neurons.length;i++){let r=this.neurons[n].x-this.neurons[i].x,a=this.neurons[n].y-this.neurons[i].y,f=Math.sqrt(r*r+a*a);if(f<120){let g=(1-f/120)*.3;t.strokeStyle=`rgba(10, 102, 194, ${g})`,t.lineWidth=1,t.beginPath(),t.moveTo(this.neurons[n].x,this.neurons[n].y),t.lineTo(this.neurons[i].x,this.neurons[i].y),t.stroke()}}}login(){if(this.formGroup.invalid){x.default.Notify.failure("Por favor, complete todos los campos.");return}let{username:t,password:e}=this.formGroup.value;this.isLoading=!0,x.default.Loading.circle("Autenticando..."),this._accountService.login(t,e).subscribe({next:n=>{sessionStorage.setItem("token",n.token),x.default.Notify.success("Inicio de sesi\xF3n exitoso."),this._accountService.getUserInfo(t).subscribe({next:i=>{console.log("Informaci\xF3n del usuario:",i),this._userSessionService.setUserInfo(i);let r=i?.role,a=r==="Distribuidor",f=r==="Cliente";sessionStorage.setItem("userInfo",JSON.stringify(i)),sessionStorage.setItem("isDistribuidor",a?"true":"false"),this.cartService.switchScope(),r==="Distribuidor"||r==="Cliente"?this._router.navigate([Y]):this._router.navigate([H])},error:i=>{console.error("Error obteniendo info del usuario:",i),this.isLoading=!1}})},error:n=>{x.default.Notify.failure("Error de autenticaci\xF3n. Verifique sus credenciales."),console.error("Error en login:",n),this.isLoading=!1,x.default.Loading.remove()},complete:()=>{this.isLoading=!1,x.default.Loading.remove()}})}goToStore(){sessionStorage.setItem("isExternal","true"),this.loaderService.start(),this._router.navigate([`/${Y}`])}goToLanding(){this._router.navigate(["/"])}return(){this.loaderService.start(),this._router.navigate([`/${Y}`])}onSubmit(){}static{this.\u0275fac=function(e){return new(e||o)(h(Z),h(V),h(ee),h(Vt),h(ne),h(qt))}}static{this.\u0275cmp=I({type:o,selectors:[["app-login"]],viewQuery:function(e,n){if(e&1&&(lt(ge,5),lt(_e,5)),e&2){let i;ct(i=mt())&&(n.neuronCanvas=i.first),ct(i=mt())&&(n.loginContainer=i.first)}},features:[yt],decls:58,vars:11,consts:[["loginContainer",""],["neuronCanvas",""],[1,"login-wrapper","d-flex","align-items-center","justify-content-center","min-vh-100","position-relative","overflow-hidden"],[1,"neuron-canvas-outer"],[1,"bg-gradient-orbs"],[1,"orb","orb-1"],[1,"orb","orb-2"],[1,"orb","orb-3"],[1,"position-absolute","top-0","start-0","end-0","p-3","d-flex","flex-wrap","justify-content-between","gap-2",2,"z-index","10"],["type","button",1,"btn","btn-outline-light","btn-sm","d-flex","align-items-center","gap-2",3,"click"],[1,"bi","bi-arrow-left"],["type","button",1,"btn","btn-store","btn-sm","d-flex","align-items-center","gap-2",3,"click"],[1,"bi","bi-shop"],[1,"container"],[1,"row","justify-content-center"],[1,"col-12","col-sm-10","col-md-8","col-lg-6","col-xl-5"],[1,"card","shadow-lg","border-0","login-card-bootstrap"],[1,"card-body","p-4","p-md-5"],["novalidate","",3,"ngSubmit","formGroup"],[1,"text-center","mb-4"],[1,"h3","fw-bold","text-white","mb-2"],[1,"text-white-50","small"],[1,"mb-3"],[1,"form-label","text-white","fw-semibold","d-flex","align-items-center","gap-2"],[1,"bi","bi-person-fill","text-primary"],["type","text","placeholder","Ingresa tu usuario","autocomplete","off","autocapitalize","off","spellcheck","false",1,"form-control","form-control-lg","bg-dark","bg-opacity-50","text-white","border-secondary",3,"formControl"],[1,"invalid-feedback","d-flex","align-items-center","gap-2"],[1,"mb-4"],[1,"bi","bi-lock-fill","text-primary"],["type","password","placeholder","Ingresa tu contrase\xF1a","autocomplete","off","autocapitalize","off","spellcheck","false",1,"form-control","form-control-lg","bg-dark","bg-opacity-50","text-white","border-secondary",3,"formControl"],[1,"d-grid","mb-3"],["type","submit",1,"btn","btn-primary","btn-lg","fw-semibold","d-flex","align-items-center","justify-content-center","gap-2",3,"disabled"],[1,"text-center","mt-4"],[1,"text-white-50","small","mb-0"],[1,"brand-purple"],[1,"d-flex","align-items-center","justify-content-center","gap-2","mt-3","text-success"],[1,"bi","bi-shield-check"],[1,"small"],["src","assets/images/LOGIN.png","alt","ALTEC Logo",1,"img-fluid","mb-3",2,"max-width","180px"],[1,"placeholder-glow","mb-3"],[1,"placeholder","col-6","mx-auto",2,"height","50px"],[1,"bi","bi-exclamation-circle"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],[1,"bi","bi-box-arrow-in-right"]],template:function(e,n){if(e&1){let i=Ot();s(0,"div",2,0),p(2,"canvas",3,1),s(4,"div",4),p(5,"div",5)(6,"div",6)(7,"div",7),l(),s(8,"div",8)(9,"button",9),z("click",function(){return N(i),D(n.goToLanding())}),p(10,"i",10),s(11,"span"),m(12,"Inicio"),l()(),s(13,"button",11),z("click",function(){return N(i),D(n.goToStore())}),p(14,"i",12),s(15,"span"),m(16,"Visitar tienda"),l()()(),s(17,"div",13)(18,"div",14)(19,"div",15)(20,"div",16)(21,"div",17)(22,"form",18),z("ngSubmit",function(){return N(i),D(n.login())}),s(23,"div",19),C(24,ve,1,0)(25,be,2,0),Et(26,24,null,null,25),Mt(0,-1),s(28,"h1",20),m(29,"Bienvenido de vuelta"),l(),s(30,"p",21),m(31,"Ingresa tus credenciales para continuar"),l()(),s(32,"div",22)(33,"label",23),p(34,"i",24),m(35," Usuario "),l(),p(36,"input",25),C(37,Ce,4,0,"div",26),l(),s(38,"div",27)(39,"label",23),p(40,"i",28),m(41," Contrase\xF1a "),l(),p(42,"input",29),C(43,Se,4,0,"div",26),l(),s(44,"div",30)(45,"button",31),C(46,Ie,3,0)(47,we,3,0),l()(),s(48,"div",32)(49,"p",33),m(50," Powered by "),s(51,"strong",34),m(52,"SwiFt\xA9"),l(),m(53," 2025 "),l()()()()(),s(54,"div",35),p(55,"i",36),s(56,"span",37),m(57,"Conexi\xF3n segura SSL"),l()()()()()()}if(e&2){let i,r,a,f;d(22),u("formGroup",n.formGroup),d(14),L("is-invalid",((i=n.formGroup.get("username"))==null?null:i.hasError("required"))&&((i=n.formGroup.get("username"))==null?null:i.touched)),u("formControl",n.formGroup.controls.username),d(),j((r=n.formGroup.get("username"))!=null&&r.hasError("required")&&((r=n.formGroup.get("username"))!=null&&r.touched)?37:-1),d(5),L("is-invalid",((a=n.formGroup.get("password"))==null?null:a.hasError("required"))&&((a=n.formGroup.get("password"))==null?null:a.touched)),u("formControl",n.formGroup.controls.password),d(),j((f=n.formGroup.get("password"))!=null&&f.hasError("required")&&((f=n.formGroup.get("password"))!=null&&f.touched)?43:-1),d(2),u("disabled",!n.formGroup.valid||n.isLoading),d(),j(n.isLoading?46:47)}},dependencies:[X,W,$,Q,J,K],styles:[".login-wrapper[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0d1117,#161b22,#0d1117)}.neuron-canvas-outer[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:0;pointer-events:none;opacity:.5}.bg-gradient-orbs[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;pointer-events:none;z-index:0}.bg-gradient-orbs[_ngcontent-%COMP%]   .orb[_ngcontent-%COMP%]{position:absolute;border-radius:50%;filter:blur(80px);opacity:.15;animation:_ngcontent-%COMP%_float 20s ease-in-out infinite}.bg-gradient-orbs[_ngcontent-%COMP%]   .orb.orb-1[_ngcontent-%COMP%]{width:400px;height:400px;background:#0a66c2;top:-10%;left:-10%;animation-delay:0s}.bg-gradient-orbs[_ngcontent-%COMP%]   .orb.orb-2[_ngcontent-%COMP%]{width:300px;height:300px;background:#ff6b35;bottom:-5%;right:-5%;animation-delay:7s}.bg-gradient-orbs[_ngcontent-%COMP%]   .orb.orb-3[_ngcontent-%COMP%]{width:250px;height:250px;background:#6fb855;top:50%;left:50%;transform:translate(-50%,-50%);animation-delay:14s}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0) scale(1)}50%{transform:translateY(-30px) scale(1.1)}}.btn-outline-light[_ngcontent-%COMP%]{background:#ffffff14!important;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2)!important;color:#fff!important;font-weight:500;transition:all .3s cubic-bezier(.4,0,.2,1)}.btn-outline-light[_ngcontent-%COMP%]:hover{background:#ffffff26!important;border-color:#ffffff59!important;transform:translateY(-2px);box-shadow:0 4px 12px #ffffff1a}.btn-outline-light[_ngcontent-%COMP%]:active{transform:translateY(0)}.btn-store[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff6b35,#e55a2b)!important;border:none!important;color:#fff!important;font-weight:600;transition:all .3s cubic-bezier(.4,0,.2,1);box-shadow:0 4px 12px #ff6b354d}.btn-store[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#ff7a4d,#ff6b35)!important;transform:translateY(-2px);box-shadow:0 8px 20px #ff6b3580}.btn-store[_ngcontent-%COMP%]:active{transform:translateY(0)}.btn-store[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px}.login-card-bootstrap[_ngcontent-%COMP%]{background:#161b22f2!important;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:1px solid rgba(255,255,255,.1)!important;border-radius:24px!important;position:relative;z-index:1;animation:_ngcontent-%COMP%_slideUp .6s ease-out}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.form-control[_ngcontent-%COMP%]:focus{background-color:#ffffff14!important;border-color:#0a66c2!important;box-shadow:0 0 0 .2rem #0a66c240!important;color:#fff!important}.form-control[_ngcontent-%COMP%]::placeholder{color:#8b949e99!important}.form-control[_ngcontent-%COMP%]:-webkit-autofill, .form-control[_ngcontent-%COMP%]:-webkit-autofill:hover, .form-control[_ngcontent-%COMP%]:-webkit-autofill:focus{-webkit-box-shadow:0 0 0px 1000px rgba(255,255,255,.08) inset!important;-webkit-text-fill-color:#fff!important;transition:background-color 5000s ease-in-out 0s}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0a66c2,#004182)!important;border:none!important;transition:all .3s cubic-bezier(.4,0,.2,1);box-shadow:0 4px 12px #0a66c24d}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#1a7fdb,#0a66c2)!important;transform:translateY(-2px);box-shadow:0 8px 20px #0a66c266}.btn-primary[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.btn-primary[_ngcontent-%COMP%]:disabled{background:#ffffff1a!important;color:#fff6!important;cursor:not-allowed;box-shadow:none}.brand-purple[_ngcontent-%COMP%]{color:#8b50fb!important;font-weight:700;text-shadow:0 0 10px rgba(139,80,251,.3)}.invalid-feedback[_ngcontent-%COMP%]{display:flex!important;align-items:center;gap:.5rem;margin-top:.5rem;padding:.5rem .75rem;background:#f851491a;border-left:3px solid #F85149;border-radius:6px;font-size:.875rem}.placeholder-glow[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{background:linear-gradient(90deg,#ffffff0d 25%,#ffffff1a,#ffffff0d 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_shimmer 1.5s infinite;border-radius:8px}@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:200% 0}to{background-position:-200% 0}}@media (max-width: 576px){.login-card-bootstrap[_ngcontent-%COMP%]{border-radius:20px!important}.btn-sm[_ngcontent-%COMP%]{font-size:.8rem;padding:.4rem .8rem}}"]})}}return o})(),ft=class{constructor(c,t){this.x=Math.random()*c,this.y=Math.random()*t,this.baseX=this.x,this.baseY=this.y,this.vx=(Math.random()-.5)*.5,this.vy=(Math.random()-.5)*.5,this.radius=Math.random()*2+1}update(c){this.x+=this.vx,this.y+=this.vy;let t=c.x-this.x,e=c.y-this.y,n=Math.sqrt(t*t+e*e),i=150;if(n<i){let r=(1-n/i)*2;this.x+=t*r*.02,this.y+=e*r*.02}this.x+=(this.baseX-this.x)*.02,this.y+=(this.baseY-this.y)*.02}draw(c){c.fillStyle="rgba(10, 102, 194, 0.6)",c.beginPath(),c.arc(this.x,this.y,this.radius,0,Math.PI*2),c.fill(),c.shadowBlur=10,c.shadowColor="rgba(10, 102, 194, 0.8)",c.fill(),c.shadowBlur=0}};var xe=()=>["/authentication/login"];function Ee(o,c){o&1&&(s(0,"small",8),m(1,"You must include an email address."),l())}function Me(o,c){o&1&&(s(0,"small",8),m(1,"You must include password."),l())}function Fe(o,c){o&1&&(s(0,"small",8),m(1,"You must include confirm password."),l())}var et=(()=>{class o{constructor(t){this._fb=t}ngOnInit(){this.formGroup=this._fb.group({email:[null,b.compose([b.required])],password:["",b.required],confirmPassword:["",b.required]})}static{this.\u0275fac=function(e){return new(e||o)(h(Z))}}static{this.\u0275cmp=I({type:o,selectors:[["app-register"]],decls:30,vars:27,consts:[[3,"formGroup"],[1,"text-center"],[1,"container","mt-4"],[1,"w-100"],["matInput","","type","email",3,"placeholder","formControl"],["class","text-danger support-text",4,"ngIf"],["matInput","","type","password",3,"placeholder","formControl"],[1,"link","text-info",3,"routerLink"],[1,"text-danger","support-text"]],template:function(e,n){e&1&&(s(0,"mat-card")(1,"mat-card-content")(2,"form",0)(3,"div",1)(4,"h4"),m(5),_(6,"translate"),l()(),s(7,"div",2)(8,"div")(9,"mat-form-field",3),p(10,"input",4),_(11,"translate"),l(),C(12,Ee,2,0,"small",5),l(),s(13,"div")(14,"mat-form-field",3),p(15,"input",6),_(16,"translate"),l(),C(17,Me,2,0,"small",5),l(),s(18,"div")(19,"mat-form-field",3),p(20,"input",6),_(21,"translate"),l(),C(22,Fe,2,0,"small",5),l(),s(23,"div",1)(24,"span"),m(25),_(26,"translate"),s(27,"a",7),m(28),_(29,"translate"),l()()()()()()()),e&2&&(d(2),u("formGroup",n.formGroup),d(3),y(v(6,14,"forms.register.title")),d(5),B("placeholder",v(11,16,"forms.register.email")),u("formControl",n.formGroup.controls.email),d(2),u("ngIf",n.formGroup.controls.email.hasError("required")&&n.formGroup.controls.email.touched),d(3),B("placeholder",v(16,18,"forms.register.password")),u("formControl",n.formGroup.controls.password),d(2),u("ngIf",n.formGroup.controls.password.hasError("required")&&n.formGroup.controls.password.touched),d(3),B("placeholder",v(21,20,"forms.register.confirmPassword")),u("formControl",n.formGroup.controls.confirmPassword),d(2),u("ngIf",n.formGroup.controls.confirmPassword.hasError("required")&&n.formGroup.controls.confirmPassword.touched),d(3),kt("",v(26,22,"forms.register.textLogin")," "),d(2),u("routerLink",U(26,xe)),d(),y(v(29,24,"forms.register.loginButton")))},dependencies:[Nt,Qt,Xt,Kt,Jt,X,W,$,Q,J,K,q,tt]})}}return o})();var nt=(()=>{class o{constructor(t){this._router=t}canActivate(t,e){return sessionStorage.getItem("token")&&this._router.navigate([`${H}`]).then(),!0}static{this.\u0275fac=function(e){return new(e||o)(w(V))}}static{this.\u0275prov=A({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();var re=[{path:"",component:P,canActivate:[nt],children:[{path:Bt,component:P,canActivate:[nt]},{path:Ut,component:et,canActivate:[nt]}]}];var Le=()=>["../login"],se=(()=>{class o{constructor(){}ngOnInit(){}static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275cmp=I({type:o,selectors:[["app-error"]],decls:12,vars:11,consts:[[1,"container","d-flex","flex-column","justify-content-center","align-items-center","text-center","h-100"],[1,"text-uppercase"],[1,"text-muted","my-3"],["mat-raised-button","","color","primary",1,"btn","w-50",3,"routerLink"]],template:function(e,n){e&1&&(s(0,"div",0)(1,"h1"),m(2,"404"),l(),s(3,"h3",1),m(4),_(5,"translate"),l(),s(6,"p",2),m(7),_(8,"translate"),l(),s(9,"a",3),m(10),_(11,"translate"),l()()),e&2&&(d(4),y(v(5,4,"messages404.title")),d(3),y(v(8,6,"messages404.body")),d(2),u("routerLink",U(10,Le)),d(),y(v(11,8,"messages404.backButton")))},dependencies:[$t,q,tt]})}}return o})();var Oe=["*"],it;function Pe(){if(it===void 0&&(it=null,typeof window<"u")){let o=window;o.trustedTypes!==void 0&&(it=o.trustedTypes.createPolicy("angular#components",{createHTML:c=>c}))}return it}function R(o){return Pe()?.createHTML(o)||o}function ae(o){return Error(`Unable to find icon with the name "${o}"`)}function Re(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function le(o){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${o}".`)}function ce(o){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${o}".`)}var S=class{constructor(c,t,e){this.url=c,this.svgText=t,this.options=e}},ke=(()=>{class o{constructor(t,e,n,i){this._httpClient=t,this._sanitizer=e,this._errorHandler=i,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=n}addSvgIcon(t,e,n){return this.addSvgIconInNamespace("",t,e,n)}addSvgIconLiteral(t,e,n){return this.addSvgIconLiteralInNamespace("",t,e,n)}addSvgIconInNamespace(t,e,n,i){return this._addSvgIconConfig(t,e,new S(n,null,i))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,e,n,i){let r=this._sanitizer.sanitize(F.HTML,n);if(!r)throw ce(n);let a=R(r);return this._addSvgIconConfig(t,e,new S("",a,i))}addSvgIconSet(t,e){return this.addSvgIconSetInNamespace("",t,e)}addSvgIconSetLiteral(t,e){return this.addSvgIconSetLiteralInNamespace("",t,e)}addSvgIconSetInNamespace(t,e,n){return this._addSvgIconSetConfig(t,new S(e,null,n))}addSvgIconSetLiteralInNamespace(t,e,n){let i=this._sanitizer.sanitize(F.HTML,e);if(!i)throw ce(e);let r=R(i);return this._addSvgIconSetConfig(t,new S("",r,n))}registerFontClassAlias(t,e=t){return this._fontCssClassesByAlias.set(t,e),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){let e=this._sanitizer.sanitize(F.RESOURCE_URL,t);if(!e)throw le(t);let n=this._cachedIconsByUrl.get(e);return n?E(ot(n)):this._loadSvgIconFromConfig(new S(t,null)).pipe(T(i=>this._cachedIconsByUrl.set(e,i)),M(i=>ot(i)))}getNamedSvgIcon(t,e=""){let n=me(e,t),i=this._svgIconConfigs.get(n);if(i)return this._getSvgFromConfig(i);if(i=this._getIconConfigFromResolvers(e,t),i)return this._svgIconConfigs.set(n,i),this._getSvgFromConfig(i);let r=this._iconSetConfigs.get(e);return r?this._getSvgFromIconSetConfigs(t,r):ht(ae(n))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?E(ot(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(M(e=>ot(e)))}_getSvgFromIconSetConfigs(t,e){let n=this._extractIconWithNameFromAnySet(t,e);if(n)return E(n);let i=e.filter(r=>!r.svgText).map(r=>this._loadSvgIconSetFromConfig(r).pipe(_t(a=>{let g=`Loading icon set URL: ${this._sanitizer.sanitize(F.RESOURCE_URL,r.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(g)),E(null)})));return gt(i).pipe(M(()=>{let r=this._extractIconWithNameFromAnySet(t,e);if(!r)throw ae(t);return r}))}_extractIconWithNameFromAnySet(t,e){for(let n=e.length-1;n>=0;n--){let i=e[n];if(i.svgText&&i.svgText.toString().indexOf(t)>-1){let r=this._svgElementFromConfig(i),a=this._extractSvgIconFromSet(r,t,i.options);if(a)return a}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(T(e=>t.svgText=e),M(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?E(null):this._fetchIcon(t).pipe(T(e=>t.svgText=e))}_extractSvgIconFromSet(t,e,n){let i=t.querySelector(`[id="${e}"]`);if(!i)return null;let r=i.cloneNode(!0);if(r.removeAttribute("id"),r.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(r,n);if(r.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(r),n);let a=this._svgElementFromString(R("<svg></svg>"));return a.appendChild(r),this._setSvgAttributes(a,n)}_svgElementFromString(t){let e=this._document.createElement("DIV");e.innerHTML=t;let n=e.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(t){let e=this._svgElementFromString(R("<svg></svg>")),n=t.attributes;for(let i=0;i<n.length;i++){let{name:r,value:a}=n[i];r!=="id"&&e.setAttribute(r,a)}for(let i=0;i<t.childNodes.length;i++)t.childNodes[i].nodeType===this._document.ELEMENT_NODE&&e.appendChild(t.childNodes[i].cloneNode(!0));return e}_setSvgAttributes(t,e){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),e&&e.viewBox&&t.setAttribute("viewBox",e.viewBox),t}_fetchIcon(t){let{url:e,options:n}=t,i=n?.withCredentials??!1;if(!this._httpClient)throw Re();if(e==null)throw Error(`Cannot fetch icon from URL "${e}".`);let r=this._sanitizer.sanitize(F.RESOURCE_URL,e);if(!r)throw le(e);let a=this._inProgressUrlFetches.get(r);if(a)return a;let f=this._httpClient.get(r,{responseType:"text",withCredentials:i}).pipe(M(g=>R(g)),bt(()=>this._inProgressUrlFetches.delete(r)),Ct());return this._inProgressUrlFetches.set(r,f),f}_addSvgIconConfig(t,e,n){return this._svgIconConfigs.set(me(t,e),n),this}_addSvgIconSetConfig(t,e){let n=this._iconSetConfigs.get(t);return n?n.push(e):this._iconSetConfigs.set(t,[e]),this}_svgElementFromConfig(t){if(!t.svgElement){let e=this._svgElementFromString(t.svgText);this._setSvgAttributes(e,t.options),t.svgElement=e}return t.svgElement}_getIconConfigFromResolvers(t,e){for(let n=0;n<this._resolvers.length;n++){let i=this._resolvers[n](e,t);if(i)return Te(i)?new S(i.url,null,i.options):new S(i,null)}}static{this.\u0275fac=function(e){return new(e||o)(w(Gt,8),w(jt),w(dt,8),w(G))}}static{this.\u0275prov=A({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();function ot(o){return o.cloneNode(!0)}function me(o,c){return o+":"+c}function Te(o){return!!(o.url&&o.options)}var Ae=new st("MAT_ICON_DEFAULT_OPTIONS"),Ne=new st("mat-icon-location",{providedIn:"root",factory:De});function De(){let o=St(dt),c=o?o.location:null;return{getPathname:()=>c?c.pathname+c.search:""}}var de=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Ge=de.map(o=>`[${o}]`).join(", "),je=/^url\(['"]?#(.*?)['"]?\)$/,fe=(()=>{class o{get color(){return this._color||this._defaultColor}set color(t){this._color=t}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){let e=this._cleanupFontValue(t);e!==this._fontSet&&(this._fontSet=e,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){let e=this._cleanupFontValue(t);e!==this._fontIcon&&(this._fontIcon=e,this._updateFontIconClasses())}constructor(t,e,n,i,r,a){this._elementRef=t,this._iconRegistry=e,this._location=i,this._errorHandler=r,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=ut.EMPTY,a&&(a.color&&(this.color=this._defaultColor=a.color),a.fontSet&&(this.fontSet=a.fontSet)),n||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];let e=t.split(":");switch(e.length){case 1:return["",e[0]];case 2:return e;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let t=this._elementsWithExternalReferences;if(t&&t.size){let e=this._location.getPathname();e!==this._previousPath&&(this._previousPath=e,this._prependPathToReferences(e))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();let e=this._location.getPathname();this._previousPath=e,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(e),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){let t=this._elementRef.nativeElement,e=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();e--;){let n=t.childNodes[e];(n.nodeType!==1||n.nodeName.toLowerCase()==="svg")&&n.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let t=this._elementRef.nativeElement,e=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(n=>n.length>0);this._previousFontSetClass.forEach(n=>t.classList.remove(n)),e.forEach(n=>t.classList.add(n)),this._previousFontSetClass=e,this.fontIcon!==this._previousFontIconClass&&!e.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return typeof t=="string"?t.trim().split(" ")[0]:t}_prependPathToReferences(t){let e=this._elementsWithExternalReferences;e&&e.forEach((n,i)=>{n.forEach(r=>{i.setAttribute(r.name,`url('${t}#${r.value}')`)})})}_cacheChildrenWithExternalReferences(t){let e=t.querySelectorAll(Ge),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let i=0;i<e.length;i++)de.forEach(r=>{let a=e[i],f=a.getAttribute(r),g=f?f.match(je):null;if(g){let k=n.get(a);k||(k=[],n.set(a,k)),k.push({name:r,value:g[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){let[e,n]=this._splitIconName(t);e&&(this._svgNamespace=e),n&&(this._svgName=n),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(n,e).pipe(vt(1)).subscribe(i=>this._setSvgElement(i),i=>{let r=`Error retrieving icon ${e}:${n}! ${i.message}`;this._errorHandler.handleError(new Error(r))})}}static{this.\u0275fac=function(e){return new(e||o)(h(wt),h(ke),It("aria-hidden"),h(Ne),h(G),h(Ae,8))}}static{this.\u0275cmp=I({type:o,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(e,n){e&2&&(Ft("data-mat-icon-type",n._usingFontIcon()?"font":"svg")("data-mat-icon-name",n._svgName||n.fontIcon)("data-mat-icon-namespace",n._svgNamespace||n.fontSet)("fontIcon",n._usingFontIcon()?n.fontIcon:null),Lt(n.color?"mat-"+n.color:""),L("mat-icon-inline",n.inline)("mat-icon-no-color",n.color!=="primary"&&n.color!=="accent"&&n.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",At],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[xt,Tt],ngContentSelectors:Oe,decls:1,vars:0,template:function(e,n){e&1&&(Pt(),Rt(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}}return o})();var jn=(()=>{class o{static{this.COMPONENT=[se,P,et]}static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275mod=at({type:o})}static{this.\u0275inj=rt({imports:[Dt,te,Zt,Ht,Yt,zt.forChild(re),ie,fe,oe]})}}return o})();export{jn as AuthenticationModule};
