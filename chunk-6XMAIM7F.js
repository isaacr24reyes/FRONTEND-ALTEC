import{a as Ye,c as et}from"./chunk-EKTBUWIJ.js";import{a as Z}from"./chunk-NQUHI2GW.js";import{a as de}from"./chunk-IP5VVSUD.js";import"./chunk-4QRD2FVP.js";import{a as xe}from"./chunk-JBVRINQ4.js";import{c as Re}from"./chunk-GLJLZ6TD.js";import{a as je}from"./chunk-AMQKJOTY.js";import"./chunk-SCRHCU3P.js";import{Q as We,a as R,b as Y,c as k,d as $,e as U,f as Ge,g as le,h as H,i as Be,l as J,m as Q,n as se,o as me,p as pe,s as qe,t as ge,u as fe,v as ue}from"./chunk-W2OKKSKC.js";import{$a as a,Ab as Ne,Bb as q,Ca as p,Cb as D,Ea as j,Fb as Ae,Gb as W,Ia as o,Ib as ce,J as Oe,Ja as i,K as ke,Ka as l,Kb as Le,La as oe,M as Se,Ma as ie,Na as v,O as A,P as Ee,Pa as _,Qa as m,U as f,V as u,Wb as De,_a as re,ab as P,bb as M,cb as ze,db as Fe,eb as E,fb as I,gb as z,ha as L,ia as Ie,ib as Te,ja as s,ka as S,lb as T,mb as N,nb as Ve,p as ye,pb as ae,w as te,wa as x,y as ne}from"./chunk-6O2VE5PK.js";import{a as G,b as B,h as _e,j as we}from"./chunk-K4ALXBGI.js";var F=_e(xe());et();var $e=(()=>{class r{constructor(e){this.http=e,this.apiUrl="/api/Sales"}createSale(e){return this.http.post(this.apiUrl,e)}static{this.\u0275fac=function(n){return new(n||r)(Se(Le))}}static{this.\u0275prov=Oe({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function nt(r,b){if(r&1&&(oe(0),o(1,"div",32),l(2,"img",33),i(),ie()),r&2){let e=m(2);s(2),p("src",e.product.foto,L)}}function ot(r,b){r&1&&(o(0,"div",34),l(1,"i",35),o(2,"p"),a(3,"Sin imagen disponible"),i()())}function it(r,b){if(r&1&&(o(0,"span",36),a(1),T(2,"number"),i()),r&2){let e=m(2);s(),M(" (",Ve(2,1,(e.product.pvp-e.product.precioImportacion)/e.product.precioImportacion*100,"1.0-2"),"%) ")}}function rt(r,b){if(r&1&&(o(0,"div",2)(1,"div",3)(2,"h3",4),a(3),i()(),o(4,"div",5)(5,"div",6)(6,"div",7),x(7,nt,3,1,"ng-container",8)(8,ot,4,0,"ng-template",null,0,ae),i()(),o(10,"div",6)(11,"div",9)(12,"div",10)(13,"div",11),l(14,"i",12),a(15," Creado por "),i(),o(16,"div",13),a(17),i()(),o(18,"div",14)(19,"div",11),l(20,"i",15),a(21," Categor\xEDa "),i(),o(22,"div",16)(23,"span",17),a(24),i()()(),o(25,"div",10)(26,"div",11),l(27,"i",18),a(28," C\xF3digo "),i(),o(29,"div",13)(30,"span",19),a(31),i()()(),o(32,"div",10)(33,"div",11),l(34,"i",20),a(35," PVP "),i(),o(36,"div",21),a(37),T(38,"currency"),i()(),o(39,"div",10)(40,"div",11),l(41,"i",22),a(42," Precio mayorista "),i(),o(43,"div",23),a(44),T(45,"currency"),i()(),o(46,"div",10)(47,"div",11),l(48,"i",24),a(49," Precio importaci\xF3n "),i(),o(50,"div",23),a(51),T(52,"currency"),i()(),o(53,"div",25)(54,"div",11),l(55,"i",26),a(56," Ganancia "),i(),o(57,"div",27),a(58),T(59,"currency"),x(60,it,3,4,"span",28),i()(),o(61,"div",10)(62,"div",11),l(63,"i",29),a(64," Stock "),i(),o(65,"div",13)(66,"span",30),l(67,"i",31),a(68),i()()()()()()()),r&2){let e=re(9),n=m();s(3),P(n.product.descripcion),s(4),p("ngIf",n.product.foto&&n.product.foto!=="NOT-IMAGE")("ngIfElse",e),s(10),P(n.product.createdBy),s(7),P(n.product.categoria),s(7),P(n.product.codigo),s(6),P(N(38,15,n.product.pvp)),s(7),P(N(45,17,n.product.precioMayorista)),s(7),P(N(52,19,n.product.precioImportacion)),s(7),M(" ",N(59,21,n.product.pvp-n.product.precioImportacion)," "),s(2),p("ngIf",n.product.precioImportacion>0),s(6),j("low-stock",n.product.stock<=5),s(),p("ngClass",n.product.stock<=5?"bi-exclamation-triangle-fill":"bi-check-circle-fill"),s(),M(" ",n.product.stock," unidades ")}}var Ue=(()=>{class r{static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275cmp=A({type:r,selectors:[["app-extra-product-info"]],inputs:{product:"product"},decls:1,vars:1,consts:[["noImage",""],["class","product-detail-container",4,"ngIf"],[1,"product-detail-container"],[1,"product-header","text-center","mb-4"],[1,"product-title"],[1,"row","g-4"],[1,"col-md-6"],[1,"product-image-section"],[4,"ngIf","ngIfElse"],[1,"product-info-section"],[1,"info-item"],[1,"info-label"],[1,"bi","bi-person-fill","me-2"],[1,"info-value"],[1,"info-item","info-item-category"],[1,"bi","bi-tag-fill","me-2"],[1,"info-value","info-value-wrap"],[1,"badge-category"],[1,"bi","bi-upc-scan","me-2"],[1,"code-badge"],[1,"bi","bi-cash-coin","me-2"],[1,"info-value","price-value"],[1,"bi","bi-building","me-2"],[1,"info-value","price-value-secondary"],[1,"bi","bi-globe","me-2"],[1,"info-item","info-item-profit"],[1,"bi","bi-graph-up-arrow","me-2"],[1,"info-value","price-value-profit"],["class","profit-percentage",4,"ngIf"],[1,"bi","bi-box-seam","me-2"],[1,"stock-badge"],[1,"bi",3,"ngClass"],[1,"image-wrapper"],["alt","Producto",1,"product-image",3,"src"],[1,"no-image-display"],[1,"bi","bi-image"],[1,"profit-percentage"]],template:function(n,t){n&1&&x(0,rt,69,23,"div",1),n&2&&p("ngIf",t.product)},dependencies:[Ne,D,Ae,W],styles:[".product-detail-container[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0d1117,#161b22);padding:1.5rem;border-radius:12px;color:#e6edf3}.product-header[_ngcontent-%COMP%]   .product-title[_ngcontent-%COMP%]{color:#e6edf3;font-size:1.5rem;font-weight:700;line-height:1.3;margin:0;text-shadow:0 2px 10px rgba(96,165,250,.2)}.product-image-section[_ngcontent-%COMP%]{background:#161b22cc;border:2px solid rgba(96,165,250,.2);border-radius:12px;padding:1.5rem;height:100%;display:flex;align-items:center;justify-content:center;min-height:300px}.image-wrapper[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center}.image-wrapper[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]{max-width:100%;max-height:400px;height:auto;border-radius:8px;object-fit:contain;box-shadow:0 8px 24px #0006}.no-image-display[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:1rem;color:#8b949e}.no-image-display[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:4rem;opacity:.5}.no-image-display[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;margin:0}.product-info-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.info-item[_ngcontent-%COMP%]{background:#161b2299;border:1px solid rgba(96,165,250,.15);border-radius:10px;padding:1rem 1.25rem;display:flex;justify-content:space-between;align-items:center;transition:all .3s ease;gap:1rem}.info-item[_ngcontent-%COMP%]:hover{background:#161b22e6;border-color:#60a5fa4d;transform:translate(4px)}.info-item.info-item-category[_ngcontent-%COMP%]{align-items:flex-start}.info-item.info-item-profit[_ngcontent-%COMP%]{background:#6fb8551a;border:2px solid rgba(111,184,85,.3)}.info-item.info-item-profit[_ngcontent-%COMP%]:hover{background:#6fb85526;border-color:#6fb855}.info-label[_ngcontent-%COMP%]{color:#8b949e;font-size:.9rem;font-weight:600;display:flex;align-items:center;text-transform:uppercase;letter-spacing:.5px;flex-shrink:0;min-width:fit-content}.info-label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#60a5fa;font-size:1.1rem}.info-value[_ngcontent-%COMP%]{color:#e6edf3;font-size:1rem;font-weight:500;text-align:right}.info-value.info-value-wrap[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:flex-end;gap:.5rem}.badge-category[_ngcontent-%COMP%]{background:#8b50fb33;color:#8b50fb;padding:.4rem .9rem;border-radius:20px;font-weight:600;border:1px solid #8B50FB;font-size:.85rem;word-break:break-word;max-width:100%;text-align:center;line-height:1.4}.code-badge[_ngcontent-%COMP%]{background:#60a5fa26;color:#58a6ff;padding:.4rem .9rem;border-radius:8px;font-weight:700;font-family:Courier New,monospace;border:1px solid rgba(96,165,250,.3);font-size:.9rem}.price-value[_ngcontent-%COMP%]{color:#6fb855!important;font-size:1.3rem!important;font-weight:700!important;text-shadow:0 0 10px rgba(111,184,85,.3)}.price-value-secondary[_ngcontent-%COMP%]{color:#60a5fa!important;font-size:1.1rem!important;font-weight:600!important}.price-value-profit[_ngcontent-%COMP%]{color:#6fb855!important;font-size:1.4rem!important;font-weight:800!important;text-shadow:0 0 15px rgba(111,184,85,.5);display:flex;flex-direction:column;align-items:flex-end;gap:.25rem}.price-value-profit[_ngcontent-%COMP%]   .profit-percentage[_ngcontent-%COMP%]{font-size:.85rem;color:#8b949e;font-weight:500;text-shadow:none}.stock-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;background:#6fb85533;color:#6fb855;padding:.5rem 1rem;border-radius:20px;font-weight:700;border:2px solid #6FB855;font-size:.95rem}.stock-badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1rem}.stock-badge.low-stock[_ngcontent-%COMP%]{background:#ef444433;color:#ef4444;border-color:#ef4444;animation:_ngcontent-%COMP%_pulse 2s ease-in-out infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{transform:scale(1);box-shadow:0 0 #ef4444b3}50%{transform:scale(1.05);box-shadow:0 0 0 10px #ef444400}}@media (max-width: 768px){.product-detail-container[_ngcontent-%COMP%]{padding:1rem}.product-header[_ngcontent-%COMP%]   .product-title[_ngcontent-%COMP%]{font-size:1.2rem}.product-image-section[_ngcontent-%COMP%]{min-height:200px;padding:1rem}.info-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:.5rem;padding:.85rem 1rem}.info-item.info-item-category[_ngcontent-%COMP%]{align-items:flex-start}.info-label[_ngcontent-%COMP%]{font-size:.8rem}.info-value[_ngcontent-%COMP%]{text-align:left;width:100%}.info-value.info-value-wrap[_ngcontent-%COMP%]{justify-content:flex-start}.price-value[_ngcontent-%COMP%]{font-size:1.1rem!important}.price-value-secondary[_ngcontent-%COMP%]{font-size:1rem!important}.price-value-profit[_ngcontent-%COMP%]{font-size:1.2rem!important;align-items:flex-start}.price-value-profit[_ngcontent-%COMP%]   .profit-percentage[_ngcontent-%COMP%]{font-size:.8rem}.badge-category[_ngcontent-%COMP%]{max-width:100%;text-align:left}}@media (max-width: 576px){.product-header[_ngcontent-%COMP%]   .product-title[_ngcontent-%COMP%]{font-size:1rem}.product-info-section[_ngcontent-%COMP%]{gap:.75rem}.no-image-display[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem}}"]})}}return r})();function ct(r,b){if(r&1){let e=v();o(0,"span",86),l(1,"i",87),a(2),o(3,"button",88),_("click",function(){f(e);let t=m(3);return u(t.filtrarCategoria(""))}),l(4,"i",89),i()()}if(r&2){let e=m(3);s(2),M(" ",e.selectedCategory," ")}}function dt(r,b){if(r&1){let e=v();o(0,"span",86),l(1,"i",21),a(2," Importaci\xF3n "),o(3,"button",88),_("click",function(){let t;f(e);let c=m(3);return(t=c.formGroup.get("importCheck"))==null||t.setValue(!1),u(c.toggleImport())}),l(4,"i",89),i()()}}function lt(r,b){if(r&1){let e=v();o(0,"span",86),l(1,"i",90),a(2," Stock Bajo "),o(3,"button",88),_("click",function(){let t;f(e);let c=m(3);return(t=c.formGroup.get("lowStockCheck"))==null||t.setValue(!1),u(c.toggleLowStock())}),l(4,"i",89),i()()}}function st(r,b){if(r&1&&(o(0,"div",35)(1,"div",16)(2,"div",84),x(3,ct,5,1,"span",85)(4,dt,5,0,"span",85)(5,lt,5,0,"span",85),i()()()),r&2){let e=m(2);s(3),p("ngIf",e.selectedCategory),s(),p("ngIf",e.onlyImport),s(),p("ngIf",e.onlyLowStock)}}function mt(r,b){if(r&1){let e=v();o(0,"li")(1,"button",29),_("click",function(){let t=f(e).$implicit,c=m(2);return u(c.filtrarCategoria(t))}),l(2,"i",91),a(3),i()()}if(r&2){let e=b.$implicit,n=m(2);s(),j("active",n.selectedCategory===e),s(2),M("",e," ")}}function pt(r,b){r&1&&(o(0,"span",104),l(1,"i",105),a(2," Import "),i())}function gt(r,b){if(r&1&&(oe(0),l(1,"img",106),ie()),r&2){let e=m().$implicit;s(),p("src",e.foto,L)}}function ft(r,b){r&1&&(o(0,"div",107),l(1,"i",108),i())}function ut(r,b){if(r&1){let e=v();o(0,"tr",92),_("click",function(){let t=f(e).$implicit,c=m(2);return u(c.openProductModal(t))}),o(1,"td",93)(2,"span",94),a(3),i()(),o(4,"td",95)(5,"div",96),a(6),x(7,pt,3,0,"span",97),i()(),o(8,"td",98)(9,"span",99),a(10),T(11,"currency"),i()(),o(12,"td",100)(13,"span",101),a(14),i()(),o(15,"td",102),x(16,gt,2,1,"ng-container",103)(17,ft,2,0,"ng-template",null,0,ae),i()()}if(r&2){let e=b.$implicit,n=re(18);s(3),P(e.codigo),s(3),M(" ",e.descripcion," "),s(),p("ngIf",e.isImport),s(3),P(N(11,9,e.pvp)),s(3),j("low-stock",e.stock<5),s(),M(" ",e.stock," "),s(2),p("ngIf",e.foto!=="NOT-IMAGE")("ngIfElse",n)}}function bt(r,b){if(r&1){let e=v();o(0,"div",2),l(1,"canvas",3),o(2,"form",4),_("ngSubmit",function(){f(e);let t=m();return u(t.onSubmit())}),o(3,"div",5)(4,"h1",6),l(5,"i",7),a(6," Consultar Inventario "),i(),o(7,"p",8),a(8,"Gestiona y consulta productos de bodega"),i()(),o(9,"div",9)(10,"div",10)(11,"div",11)(12,"div",12),l(13,"i",13)(14,"input",14),i()()(),x(15,st,6,3,"div",15),o(16,"div",10)(17,"div",16)(18,"div",17)(19,"div",18)(20,"input",19),_("change",function(){f(e);let t=m();return u(t.toggleImport())}),i(),o(21,"label",20),l(22,"i",21),a(23," Importaci\xF3n "),i()(),o(24,"div",18)(25,"input",22),_("change",function(){f(e);let t=m();return u(t.toggleLowStock())}),i(),o(26,"label",23),l(27,"i",24),a(28," Stock < 5 "),i()(),o(29,"div",25)(30,"button",26),l(31,"i",27),a(32," Categor\xEDas "),i(),o(33,"ul",28)(34,"li")(35,"button",29),_("click",function(){f(e);let t=m();return u(t.filtrarCategoria(""))}),l(36,"i",30),a(37,"Todas "),i()(),o(38,"li"),l(39,"hr",31),i(),x(40,mt,4,3,"li",32),i()(),o(41,"button",33),l(42,"i",34),a(43," Cat\xE1logo "),i()()()(),o(44,"div",35)(45,"div",16)(46,"div",36)(47,"span",37),l(48,"i",38),a(49),i(),o(50,"span",39),a(51),i()()()(),o(52,"div",40)(53,"div",16)(54,"div",41)(55,"div",42)(56,"table",43)(57,"thead")(58,"tr")(59,"th",44),a(60,"C\xF3digo"),i(),o(61,"th",45),a(62,"Descripci\xF3n"),i(),o(63,"th",46),a(64,"PVP"),i(),o(65,"th",47),a(66,"Stock"),i(),o(67,"th",48),a(68,"Imagen"),i()()(),o(69,"tbody"),x(70,ut,19,11,"tr",49),i()()()()()(),o(71,"div",50)(72,"div",16)(73,"div",51)(74,"button",52),_("click",function(){f(e);let t=m();return u(t.onPreviousPage())}),l(75,"i",53),a(76," Anterior "),i(),o(77,"div",54)(78,"span",55),a(79),i(),o(80,"span",56),a(81,"/"),i(),o(82,"span",57),a(83),i()(),o(84,"button",52),_("click",function(){f(e);let t=m();return u(t.onNextPage())}),a(85," Siguiente "),l(86,"i",58),i()()()(),o(87,"div",59)(88,"span",60),a(89," Developed by "),o(90,"strong",61),a(91,"SwiFt\xA9"),i(),a(92," (2025). "),i()()()(),o(93,"div",62)(94,"div",63)(95,"div",64)(96,"div",65)(97,"h5",66),l(98,"i",67),a(99," Detalles del Producto "),i(),l(100,"button",68),i(),o(101,"div",69),l(102,"app-extra-product-info",70),i()()()(),o(103,"div",71)(104,"div",72)(105,"div",64)(106,"div",65)(107,"h5",66),l(108,"i",73),a(109," Generar Cat\xE1logo PDF "),i(),l(110,"button",68),i(),o(111,"div",69)(112,"div",74)(113,"label",75),l(114,"i",76),a(115," Tipo de cat\xE1logo: "),i(),o(116,"select",77),z("ngModelChange",function(t){f(e);let c=m();return I(c.tipoInventario,t)||(c.tipoInventario=t),u(t)}),o(117,"option",78),a(118,"\u{1F4DA} Estudiante"),i(),o(119,"option",79),a(120,"\u{1F3E2} Mayorista"),i(),o(121,"option",80),a(122,"\u2699\uFE0F Admin"),i()()(),o(123,"div",81)(124,"button",82),_("click",function(){f(e);let t=m();return u(t.descargarPDF())}),l(125,"i",83),a(126," Descargar PDF "),i()()()()()()()}if(r&2){let e=m();s(2),p("formGroup",e.formGroup),s(13),p("ngIf",e.selectedCategory||e.onlyImport||e.onlyLowStock),s(25),p("ngForOf",e.categories),s(9),Fe(" ",e.totalCount," producto",e.totalCount!==1?"s":""," encontrado",e.totalCount!==1?"s":""," "),s(2),ze(" P\xE1gina ",e.currentPage," de ",e.totalPages," "),s(19),p("ngForOf",e.products),s(4),p("disabled",e.currentPage===1),s(5),P(e.currentPage),s(4),P(e.totalPages),s(),p("disabled",e.currentPage===e.totalPages),s(18),p("product",e.selectedProduct),s(14),E("ngModel",e.tipoInventario)}}var Qe=(()=>{class r{constructor(e,n,t){this.productService=e,this.fb=n,this.salesService=t,this.allProducts=[],this.products=[],this.totalCount=0,this.currentPage=1,this.totalPages=0,this.pageSize=5,this.isFirstLoad=!0,this.isLoading=!0,this.tipoInventario="estudiante",this.selectedCategory="",this.onlyImport=!1,this.onlyLowStock=!1,this.categories=["Audio y video","Baquelitas","Componentes Electr\xF3nicos","Compuertas e Integrados","Electricidad","Fuentes","Herramientas","Microcontroladores y Arduinos","Modulos y Sensores","Motores","Parlantes","Pilas y Baterias","Plugs y Conectores","Protoboards","Proyectos Y kits","Redes y Comunicaci\xF3n","Transformadores","Otros"]}ngOnInit(){this.formGroup=this.fb.group({searchControl:[""],importCheck:[!1],lowStockCheck:[!1]}),this.getAllProducts(),this.formGroup.get("searchControl").valueChanges.pipe(te(300),ne()).subscribe(()=>{this.currentPage=1,this.applyFilter()}),setTimeout(()=>this.initNeurons(),100)}ngOnDestroy(){this.animationId&&cancelAnimationFrame(this.animationId)}initNeurons(){let e=document.getElementById("neuronCanvas");if(!e)return;let n=e.getContext("2d");if(!n)return;e.width=window.innerWidth,e.height=window.innerHeight;let c=window.innerWidth<768?15:45,d=[];class h{constructor(){this.x=Math.random()*e.width,this.y=Math.random()*e.height,this.vx=(Math.random()-.5)*.5,this.vy=(Math.random()-.5)*.5,this.radius=Math.random()*2+1}update(){this.x+=this.vx,this.y+=this.vy,(this.x<0||this.x>e.width)&&(this.vx*=-1),(this.y<0||this.y>e.height)&&(this.vy*=-1)}draw(){n&&(n.beginPath(),n.arc(this.x,this.y,this.radius,0,Math.PI*2),n.fillStyle="rgba(139, 80, 251, 0.8)",n.fill())}}for(let C=0;C<c;C++)d.push(new h);let g=()=>{n.clearRect(0,0,e.width,e.height),d.forEach(C=>{C.update(),C.draw()});for(let C=0;C<d.length;C++)for(let w=C+1;w<d.length;w++){let y=d[C].x-d[w].x,O=d[C].y-d[w].y,ee=Math.sqrt(y*y+O*O);ee<150&&(n.beginPath(),n.moveTo(d[C].x,d[C].y),n.lineTo(d[w].x,d[w].y),n.strokeStyle=`rgba(139, 80, 251, ${.2*(1-ee/150)})`,n.lineWidth=1,n.stroke())}this.animationId=requestAnimationFrame(g)};g(),window.addEventListener("resize",()=>{e.width=window.innerWidth,e.height=window.innerHeight})}filtrarCategoria(e,n){n&&n.preventDefault(),this.selectedCategory=e,this.currentPage=1,this.applyFilter()}toggleLowStock(){this.onlyLowStock=this.formGroup.get("lowStockCheck")?.value,this.currentPage=1,this.applyFilter()}toggleImport(){this.onlyImport=this.formGroup.get("importCheck")?.value,this.currentPage=1,this.applyFilter()}getAllProducts(){this.isFirstLoad&&(F.default.Loading.standard("Cargando productos..."),this.isLoading=!0),this.productService.getProducts(1,1e3,"","descripcion","asc").subscribe({next:e=>{this.allProducts=(e.items||[]).map(n=>B(G({},n),{_normDesc:this.normalizeText(`${n.descripcion??""}`),_normCode:this.normalizeText(`${n.codigo??""}`)})),this.applyFilter(),this.isFirstLoad&&(F.default.Loading.remove(),this.isLoading=!1,this.isFirstLoad=!1)},error:e=>{console.error("Error al obtener los productos",e),this.isFirstLoad&&(F.default.Loading.remove(),this.isLoading=!1,this.isFirstLoad=!1)}})}applyFilter(){let e=this.formGroup.get("searchControl").value||"",n=this.tokenize(e),t=this.allProducts;this.selectedCategory&&(t=t.filter(d=>d.categoria===this.selectedCategory)),this.onlyImport&&(t=t.filter(d=>d.isImport===!0||d.isImport===1)),this.onlyLowStock&&(t=t.filter(d=>d.stock<5)),n.length&&(t=t.map(d=>{let h=d._normDesc,g=d._normCode,w=n.every(y=>this.textContainsToken(h,y)||this.textContainsToken(g,y))?this.scoreMatch(h,g,n):-1;return{p:d,score:w}}).filter(d=>d.score>=0).sort((d,h)=>h.score-d.score).map(d=>d.p)),this.totalCount=t.length,this.totalPages=Math.ceil(this.totalCount/this.pageSize)||1;let c=(this.currentPage-1)*this.pageSize;this.products=t.slice(c,c+this.pageSize)}onPreviousPage(){this.currentPage>1&&(this.currentPage--,this.applyFilter())}onNextPage(){this.currentPage<this.totalPages&&(this.currentPage++,this.applyFilter())}openProductModal(e){this.selectedProduct=e;let n=document.getElementById("productModal");n&&new bootstrap.Modal(n).show()}normalizeText(e){return(e||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/\s+/g," ").trim()}tokenize(e){return this.normalizeText(e).match(/[a-z0-9]+/gi)?.map(t=>this.normalizeText(t))??[]}stem(e){return e.replace(/(es|s)$/i,"")}escapeRegExp(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}textContainsToken(e,n){if(!e||!n)return!1;let t=this.escapeRegExp(n),c=this.escapeRegExp(this.stem(n));return e.includes(n)||c&&e.includes(c)||new RegExp(`\\b${t}`,"i").test(e)||new RegExp(`${t}\\b`,"i").test(e)}scoreMatch(e,n,t){let c=0;for(let g of t){let C=this.textContainsToken(n,g),w=this.textContainsToken(e,g);C&&(c+=10),w&&(c+=4);let y=this.escapeRegExp(g);new RegExp(`\\b${y}\\b`).test(e)&&(c+=2),new RegExp(`\\b${y}\\b`).test(n)&&(c+=4),e.startsWith(g)&&(c+=2),n.startsWith(g)&&(c+=3)}let d=t.every(g=>this.textContainsToken(e,g)),h=t.every(g=>this.textContainsToken(n,g));return d&&(c+=5),h&&(c+=8),c}onSubmit(){}descargarPDF(){return we(this,null,function*(){if(!this.allProducts||this.allProducts.length===0){console.warn("No hay productos en allProducts");return}F.default.Loading.standard("Generando cat\xE1logo...");let e=new Ye("p","mm","a4"),n=e.internal.pageSize.getWidth(),t=20,c=new Date,d={timeZone:"America/Guayaquil",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0},h=new Intl.DateTimeFormat("es-EC",d).format(c),[g,C]=h.split(",");e.addImage("assets/images/Logo-completo.jpeg","JPEG",10,10,40,20),e.setFontSize(16),e.text(this.tipoInventario==="importador"?"CAT\xC1LOGO MAYORISTA":"CAT\xC1LOGO ESTUDIANTES",n/2,20,{align:"center"}),e.setFontSize(10),e.text(`Fecha: ${g.trim()} | Hora: ${C.trim()} (hora de Quito)`,n/2,27,{align:"center"}),e.text("Ubicaci\xF3n: Quito, Villaflora, Rodrigo de Ch\xE1vez. | WhatsApp: (099) 515-9078",n/2,32,{align:"center"}),t=40;for(let w of this.categories){let y=this.allProducts.filter(O=>O.categoria===w&&(this.tipoInventario!=="importador"||O.isImport===!0||O.isImport===1));if(y.length!==0){e.setFontSize(14),e.setTextColor(8,39,79),e.text(w,10,t),t+=8,e.setFontSize(11),e.setTextColor(255,255,255),e.setFillColor(8,39,79),e.rect(10,t,n-20,8,"F"),e.text("C\xF3digo",12,t+6),e.text("Descripci\xF3n",45,t+6),e.text(this.tipoInventario==="importador"?"Precio Mayorista":"PVP",140,t+6),e.text("Imagen",170,t+6),t+=12,e.setTextColor(0,0,0);for(let O of y){t>260&&(e.addPage(),t=20),e.text(O.codigo||"",12,t);let ee=O.descripcion||"",Ce=e.splitTextToSize(ee,90),Pe=Ce.length*6;e.text(Ce,45,t);let ve=t+Pe/2,Xe=this.tipoInventario==="importador"?O.precioMayorista:O.pvp;if(e.text(new Intl.NumberFormat("es-EC",{style:"currency",currency:"USD"}).format(Xe||0),this.tipoInventario==="importador"?130:140,ve),O.foto&&O.foto!=="NOT-IMAGE")try{let Me=yield this.loadImageAsBase64(O.foto);e.addImage(Me,"JPEG",170,ve-7,20,15)}catch{console.warn("No se pudo cargar imagen:",O.foto)}t+=Math.max(Pe,20)}t+=10,t>260&&(e.addPage(),t=20)}}e.save(`${this.tipoInventario==="importador"?"catalogo-mayorista":"catalogo-estudiantes"}-${new Date().toISOString().slice(0,10)}.pdf`),F.default.Loading.remove()})}loadImageAsBase64(e){return new Promise((n,t)=>{let c=new Image;c.crossOrigin="Anonymous",c.onload=()=>{let d=document.createElement("canvas");d.width=c.width,d.height=c.height;let h=d.getContext("2d");if(!h)return t("No se pudo crear contexto");h.drawImage(c,0,0),n(d.toDataURL("image/jpeg"))},c.onerror=t,c.src=e})}guardarVentaEjemplo(){let e={invoiceNumber:"INV-001",customerID:1,employeeID:2,productID:3,saleDate:new Date().toISOString(),quantity:1,unitPrice:100,taxAmount:12,totalAmount:112,paymentMethod:"Efectivo",status:"Completada"};this.salesService.createSale(e).subscribe({next:n=>{F.default.Notify.success("Venta guardada con ID: "+n)},error:n=>{F.default.Notify.failure("Error al guardar venta"),console.error("Error al guardar venta",n)}})}saveSale(e,n,t,c){if(!e||e.length===0){F.default.Notify.failure("No hay productos seleccionados para vender.");return}let d=this.generateInvoiceNumber(),h=e.map(g=>{let C={invoiceNumber:d,customerID:n,employeeID:t,productID:g.id||g.productID||g.codigo||0,saleDate:new Date().toISOString(),quantity:g.quantity||1,unitPrice:g.unitPrice||g.pvp||0,taxAmount:g.taxAmount||0,totalAmount:(g.unitPrice||g.pvp||0)*(g.quantity||1)+(g.taxAmount||0),paymentMethod:c,status:"Completada"};return this.salesService.createSale(C)});ye(h).subscribe({next:g=>{F.default.Notify.success("Venta guardada correctamente. Factura: "+d)},error:g=>{F.default.Notify.failure("Error al guardar la venta"),console.error("Error al guardar venta",g)}})}generateInvoiceNumber(){return"INV-"+Date.now()}static{this.\u0275fac=function(n){return new(n||r)(S(Z),S(ge),S($e))}}static{this.\u0275cmp=A({type:r,selectors:[["app-inventario"]],decls:1,vars:1,consts:[["noImage",""],["class","inventory-container",4,"ngIf"],[1,"inventory-container"],["id","neuronCanvas",1,"neuron-canvas"],[1,"inventory-form",3,"ngSubmit","formGroup"],[1,"text-center","mb-4"],[1,"main-title"],[1,"bi","bi-box-seam","me-2"],[1,"subtitle"],[1,"container"],[1,"row","justify-content-center","mb-4"],[1,"col-12","col-lg-8"],[1,"search-wrapper"],[1,"bi","bi-search","search-icon"],["type","search","placeholder","Buscar producto o c\xF3digo...","aria-label","Search","formControlName","searchControl",1,"form-control","modern-search"],["class","row justify-content-center mb-3",4,"ngIf"],[1,"col-12","col-lg-10"],[1,"filters-container"],[1,"filter-item"],["type","checkbox","id","importCheck","formControlName","importCheck",1,"form-check-input","modern-checkbox",3,"change"],["for","importCheck",1,"form-check-label"],[1,"bi","bi-globe","me-1"],["type","checkbox","id","lowStockCheck","formControlName","lowStockCheck",1,"form-check-input","modern-checkbox",3,"change"],["for","lowStockCheck",1,"form-check-label"],[1,"bi","bi-exclamation-triangle","me-1"],[1,"dropdown"],["type","button","id","dropdownCategorias","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-filter","dropdown-toggle"],[1,"bi","bi-funnel","me-1"],["aria-labelledby","dropdownCategorias",1,"dropdown-menu","dropdown-menu-dark"],[1,"dropdown-item",3,"click"],[1,"bi","bi-grid-3x3-gap","me-2"],[1,"dropdown-divider"],[4,"ngFor","ngForOf"],["type","button","data-bs-toggle","modal","data-bs-target","#inventarioModal",1,"btn","btn-catalog"],[1,"bi","bi-file-earmark-pdf","me-1"],[1,"row","justify-content-center","mb-3"],[1,"results-info"],[1,"total-badge"],[1,"bi","bi-box","me-1"],[1,"page-info"],[1,"row","justify-content-center"],[1,"table-modern-wrapper"],[1,"table-responsive"],[1,"table","table-modern"],[1,"col-code"],[1,"col-desc"],[1,"col-price"],[1,"col-stock"],[1,"col-image"],["class","product-row",3,"click",4,"ngFor","ngForOf"],[1,"row","justify-content-center","mt-4","mb-4"],[1,"pagination-container"],[1,"btn","btn-pagination",3,"click","disabled"],[1,"bi","bi-chevron-left"],[1,"pagination-info"],[1,"current-page"],[1,"separator"],[1,"total-pages"],[1,"bi","bi-chevron-right"],[1,"text-center","mt-5","pb-4"],[1,"footer-text"],[1,"swift-brand"],["id","productModal","tabindex","-1","aria-labelledby","productModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-lg","modal-dialog-centered"],[1,"modal-content","modal-dark"],[1,"modal-header"],[1,"modal-title"],[1,"bi","bi-info-circle","me-2"],["type","button","data-bs-dismiss","modal","aria-label","Cerrar",1,"btn-close","btn-close-white"],[1,"modal-body"],[3,"product"],["id","inventarioModal","tabindex","-1","aria-labelledby","inventarioModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"bi","bi-file-earmark-pdf","me-2"],[1,"mb-4"],["for","tipoInventario",1,"form-label"],[1,"bi","bi-people","me-1"],["id","tipoInventario",1,"form-select","modern-select",3,"ngModelChange","ngModel"],["value","estudiante"],["value","importador"],["value","admin"],[1,"d-grid"],["data-bs-dismiss","modal",1,"btn","btn-download",3,"click"],[1,"bi","bi-download","me-2"],[1,"d-flex","flex-wrap","gap-2","justify-content-center"],["class","filter-chip",4,"ngIf"],[1,"filter-chip"],[1,"bi","bi-tag-fill","me-1"],["type","button",1,"btn-close-chip",3,"click"],[1,"bi","bi-x"],[1,"bi","bi-exclamation-triangle-fill","me-1"],[1,"bi","bi-tag","me-2"],[1,"product-row",3,"click"],[1,"code-cell"],[1,"code-badge"],[1,"desc-cell"],[1,"product-desc"],["class","badge bg-warning text-dark ms-2",4,"ngIf"],[1,"price-cell"],[1,"price-tag"],[1,"stock-cell"],[1,"stock-badge"],[1,"image-cell"],[4,"ngIf","ngIfElse"],[1,"badge","bg-warning","text-dark","ms-2"],[1,"bi","bi-globe"],["alt","Producto",1,"product-img",3,"src"],[1,"no-image"],[1,"bi","bi-image"]],template:function(n,t){n&1&&x(0,bt,127,15,"div",1),n&2&&p("ngIf",!t.isLoading)},dependencies:[q,D,H,me,pe,Y,R,se,$,U,J,Q,le,Ue,W],styles:[".inventory-container[_ngcontent-%COMP%]{position:relative;min-height:100vh;background:linear-gradient(135deg,#0a1929,#1a2332);overflow:hidden}[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px;height:12px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#0a1929;border-radius:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:linear-gradient(135deg,#60a5fa,#8b50fb);border-radius:10px;border:2px solid #0a1929}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:linear-gradient(135deg,#8b50fb,#60a5fa)}[_ngcontent-%COMP%]::-webkit-scrollbar-corner{background:#0a1929}.neuron-canvas[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:0;pointer-events:none}.inventory-form[_ngcontent-%COMP%]{position:relative;z-index:1;padding:2rem 0}.main-title[_ngcontent-%COMP%]{color:#fff;font-family:Acephimere,sans-serif;font-weight:800;font-size:2.5rem;text-align:center;margin-bottom:.5rem;text-shadow:0 0 20px rgba(139,80,251,.3)}.subtitle[_ngcontent-%COMP%]{color:#ffffffb3;font-size:1rem;text-align:center;margin-bottom:2rem}.search-wrapper[_ngcontent-%COMP%]{position:relative}.search-wrapper[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{position:absolute;left:1rem;top:50%;transform:translateY(-50%);color:#ffffff80;font-size:1.2rem;z-index:2}.modern-search[_ngcontent-%COMP%]{background:#ffffff0d;border:2px solid rgba(139,80,251,.3);border-radius:50px;color:#fff;padding:.75rem 1rem .75rem 3rem;font-size:1rem;transition:all .3s ease}.modern-search[_ngcontent-%COMP%]:focus{background:#ffffff14;border-color:#8b50fb;box-shadow:0 0 20px #8b50fb66;color:#fff}.modern-search[_ngcontent-%COMP%]::placeholder{color:#fff6}.filter-chip[_ngcontent-%COMP%]{display:inline-flex;align-items:center;background:#8b50fb33;border:1px solid #8B50FB;border-radius:20px;padding:.4rem .8rem;color:#fff;font-size:.9rem;gap:.3rem}.filter-chip[_ngcontent-%COMP%]   .btn-close-chip[_ngcontent-%COMP%]{background:none;border:none;color:#fff;cursor:pointer;padding:0;margin-left:.3rem;opacity:.7;transition:opacity .2s}.filter-chip[_ngcontent-%COMP%]   .btn-close-chip[_ngcontent-%COMP%]:hover{opacity:1}.filter-chip[_ngcontent-%COMP%]   .btn-close-chip[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.filters-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1rem;justify-content:center;align-items:center;background:#ffffff08;border-radius:15px;padding:1rem;border:1px solid rgba(139,80,251,.2)}.filter-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.filter-item[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{width:1.2rem;height:1.2rem;cursor:pointer;border:2px solid rgba(139,80,251,.5);background:#ffffff0d}.filter-item[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:checked{background-color:#8b50fb;border-color:#8b50fb}.filter-item[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #8b50fb40}.filter-item[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%]{color:#fff;font-weight:500;cursor:pointer;-webkit-user-select:none;user-select:none}.btn-filter[_ngcontent-%COMP%], .btn-catalog[_ngcontent-%COMP%]{background:#8b50fb33;border:2px solid #8B50FB;color:#fff;padding:.5rem 1.5rem;border-radius:25px;font-weight:600;transition:all .3s ease}.btn-filter[_ngcontent-%COMP%]:hover, .btn-catalog[_ngcontent-%COMP%]:hover{background:#8b50fb;transform:translateY(-2px);box-shadow:0 5px 20px #8b50fb66}.dropdown-menu-dark[_ngcontent-%COMP%]{background:#1a2332;border:1px solid rgba(139,80,251,.3)}.dropdown-menu-dark[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{color:#fff;transition:all .2s}.dropdown-menu-dark[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover{background:#8b50fb33}.dropdown-menu-dark[_ngcontent-%COMP%]   .dropdown-item.active[_ngcontent-%COMP%]{background:#8b50fb}.results-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background:#ffffff08;border-radius:10px;padding:.75rem 1.5rem;border:1px solid rgba(139,80,251,.2);flex-wrap:wrap;gap:1rem}.total-badge[_ngcontent-%COMP%]{background:#8b50fb33;color:#fff;padding:.4rem 1rem;border-radius:20px;font-weight:600;border:1px solid #8B50FB}.page-info[_ngcontent-%COMP%]{color:#ffffffb3;font-size:.95rem}.table-modern-wrapper[_ngcontent-%COMP%]{background:#161b2299;border-radius:15px;padding:1rem;border:2px solid rgba(96,165,250,.2);box-shadow:0 5px 30px #00000080}.table-modern[_ngcontent-%COMP%]{margin-bottom:0}.table-modern[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#161b22!important;color:#e6edf3;font-weight:700;text-transform:uppercase;font-size:.85rem;letter-spacing:.5px;padding:1rem;border:none!important;border-bottom:2px solid #60A5FA!important;text-align:center}.table-modern[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background:#161b22!important;border-bottom:1px solid rgba(96,165,250,.15)!important;transition:all .3s ease;cursor:pointer}.table-modern[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#60a5fa33!important;transform:scale(1.01);box-shadow:0 2px 8px #60a5fa4d}.table-modern[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem .5rem;vertical-align:middle;border:none!important;text-align:center;color:#e6edf3!important;background:transparent!important}.code-badge[_ngcontent-%COMP%]{background:#60a5fa1a;color:#58a6ff;padding:.3rem .8rem;border-radius:8px;font-weight:700;font-family:Courier New,monospace;font-size:.9rem;border:1px solid rgba(96,165,250,.3)}.desc-cell[_ngcontent-%COMP%]{text-align:left!important}.desc-cell[_ngcontent-%COMP%]   .product-desc[_ngcontent-%COMP%]{color:#e6edf3;font-size:.95rem;line-height:1.4;font-weight:500}.price-tag[_ngcontent-%COMP%]{color:#4ade80;font-weight:700;font-size:1.1rem}.stock-badge[_ngcontent-%COMP%]{background:#4ade8033;color:#4ade80;padding:.3rem .8rem;border-radius:8px;font-weight:700;border:1px solid #4ade80}.stock-badge.low-stock[_ngcontent-%COMP%]{background:#ef444433;color:#ef4444;border-color:#ef4444}.product-img[_ngcontent-%COMP%]{width:80px;height:60px;object-fit:cover;border-radius:8px;border:2px solid rgba(96,165,250,.3)}.no-image[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:80px;height:60px;background:#60a5fa1a;border-radius:8px;border:2px dashed rgba(96,165,250,.3);color:#60a5fa}.no-image[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem}.pagination-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background:#ffffff08;border-radius:50px;padding:1rem 2rem;border:1px solid rgba(139,80,251,.2);gap:1rem}.btn-pagination[_ngcontent-%COMP%]{background:#8b50fb33;border:2px solid #8B50FB;color:#fff;padding:.6rem 1.5rem;border-radius:25px;font-weight:600;transition:all .3s ease}.btn-pagination[_ngcontent-%COMP%]:hover:not(:disabled){background:#8b50fb;transform:translateY(-2px);box-shadow:0 5px 20px #8b50fb66}.btn-pagination[_ngcontent-%COMP%]:disabled{opacity:.3;cursor:not-allowed}.pagination-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-weight:700}.pagination-info[_ngcontent-%COMP%]   .current-page[_ngcontent-%COMP%]{color:#8b50fb;font-size:1.3rem}.pagination-info[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{color:#ffffff80}.pagination-info[_ngcontent-%COMP%]   .total-pages[_ngcontent-%COMP%]{color:#ffffffb3;font-size:1rem}.modal-dark[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1a2332,#0a1929);border:2px solid rgba(139,80,251,.3);color:#fff}.modal-dark[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{border-bottom:1px solid rgba(139,80,251,.3)}.modal-dark[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{color:#fff;font-weight:700}.modal-dark[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{color:#fff}.modern-select[_ngcontent-%COMP%]{background:#ffffff0d;border:2px solid rgba(139,80,251,.3);color:#fff;padding:.6rem 1rem;border-radius:10px;transition:all .3s ease}.modern-select[_ngcontent-%COMP%]:focus{background:#ffffff14;border-color:#8b50fb;box-shadow:0 0 15px #8b50fb4d;color:#fff}.modern-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background:#1a2332;color:#fff}.btn-download[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dc2626,#ef4444);border:none;color:#fff;padding:.8rem 2rem;border-radius:10px;font-weight:700;font-size:1.1rem;transition:all .3s ease}.btn-download[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 8px 25px #dc262666}.footer-text[_ngcontent-%COMP%]{color:#fff9;font-size:.9rem}.footer-text[_ngcontent-%COMP%]   .swift-brand[_ngcontent-%COMP%]{color:#8b50fb;font-weight:700}@media (max-width: 992px){.filters-container[_ngcontent-%COMP%]{flex-direction:column;gap:.8rem}.results-info[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.table-modern[_ngcontent-%COMP%]{font-size:.85rem}.table-modern[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.75rem .5rem;font-size:.75rem}.table-modern[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem .5rem}.product-img[_ngcontent-%COMP%], .no-image[_ngcontent-%COMP%]{width:60px;height:45px}.no-image[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 768px){.main-title[_ngcontent-%COMP%]{font-size:1.8rem}.subtitle[_ngcontent-%COMP%]{font-size:.9rem}.inventory-form[_ngcontent-%COMP%]{padding:1rem 0}.pagination-container[_ngcontent-%COMP%]{flex-direction:column;padding:1rem}.btn-pagination[_ngcontent-%COMP%]{width:100%}.table-modern[_ngcontent-%COMP%]   .col-desc[_ngcontent-%COMP%]{max-width:150px}.code-badge[_ngcontent-%COMP%]{font-size:.75rem;padding:.2rem .5rem}.price-tag[_ngcontent-%COMP%]{font-size:.95rem}}@media (max-width: 576px){.filters-container[_ngcontent-%COMP%]{padding:.75rem}.btn-filter[_ngcontent-%COMP%], .btn-catalog[_ngcontent-%COMP%]{width:100%;justify-content:center}.table-modern-wrapper[_ngcontent-%COMP%]{padding:.5rem}.table-modern[_ngcontent-%COMP%]{font-size:.75rem}.table-modern[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .3rem;font-size:.7rem}.table-modern[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem .3rem}.product-img[_ngcontent-%COMP%], .no-image[_ngcontent-%COMP%]{width:50px;height:40px}.no-image[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}}"]})}}return r})();var V=_e(xe());function _t(r,b){if(r&1&&(o(0,"span",27),a(1),i()),r&2){let e=m();s(),P(e.selectedCategory)}}function xt(r,b){if(r&1){let e=v();o(0,"div",30),_("click",function(t){let c=f(e).$implicit,d=m(2);return u(d.selectCategory(c,t))}),a(1),i()}if(r&2){let e=b.$implicit,n=m(2);j("active",e===n.selectedCategory),s(),M(" ",e," ")}}function ht(r,b){if(r&1&&(o(0,"div",28),x(1,xt,2,3,"div",29),i()),r&2){let e=m();s(),p("ngForOf",e.categories)}}function Ct(r,b){if(r&1&&(o(0,"div",10)(1,"div",4)(2,"h2",5),a(3,"Previsualizaci\xF3n:"),i(),l(4,"img",31),i()()),r&2){let e=m();s(4),p("src",e.imagePreview,L)}}var Ze=(()=>{class r{constructor(e,n,t){this.fb=e,this.productService=n,this.userSessionService=t,this.imagePreview=null,this.userName="",this.categories=["Audio y video","Baquelitas","Componentes Electr\xF3nicos","Compuertas e Integrados","Electricidad","Fuentes","Herramientas","Microcontroladores y Arduinos","Modulos y Sensores","Motores","Parlantes","Pilas y Baterias","Plugs y Conectores","Protoboards","Proyectos Y kits","Redes y Comunicaci\xF3n","Transformadores","Otros"],this.showCategoryList=!1,this.selectedCategory=null,this.formGroup=this.fb.group({productCategory:["",k.required],productCode:["",k.required],isImported:[!1],productStock:["",[k.required,k.pattern("^[0-9]*$")]],productPvp:["",[k.required,k.pattern("^[0-9]+([.,][0-9]{1,2})?$")]],productMp:["",[k.required,k.pattern("^[0-9]+([.,][0-9]{1,2})?$")]],productPi:["",[k.pattern("^[0-9]+([.,][0-9]{1,2})?$")]],productDescription:["",k.required],productImage:[null]}),this.formGroup.get("isImported")?.valueChanges.subscribe(c=>{let d=this.formGroup.get("productPi");c?d?.setValidators([k.required,k.pattern("^[0-9]+([.,][0-9]{1,2})?$")]):(d?.clearValidators(),d?.setValue("")),d?.updateValueAndValidity()}),this.userSessionService.getUserInfo().subscribe(c=>{c&&(this.userName=c.name)})}toggleCategoryList(e){this.showCategoryList=!this.showCategoryList}selectCategory(e,n){n.stopPropagation(),this.selectedCategory=e,this.formGroup.get("productCategory")?.setValue(e),this.showCategoryList=!1}closeOnOutsideClick(e){let n=e.target;!n.closest(".input-multiselect")&&!n.closest(".category-panel")&&(this.showCategoryList=!1)}onSubmit(){if(this.formGroup.invalid){V.default.Notify.failure("Por favor, completa todos los campos requeridos correctamente.");return}V.default.Confirm.show("Confirmaci\xF3n","\xBFEst\xE1s seguro de que deseas subir este producto?","S\xED","No",()=>{V.default.Loading.arrows("Subiendo producto...");let e=this.formGroup.value,n=this.selectedFile??null,t=new FormData;n?t.append("Foto",n,n.name):t.append("Foto","NOT-IMAGE");let c=e.productPvp.replace(".",","),d=e.productMp.replace(".",","),h="0";e.isImported&&e.productPi&&(h=e.productPi.replace(".",",")),t.append("Pvp",c),t.append("Descripcion",e.productDescription),t.append("Categoria",e.productCategory),t.append("IsImport",e.isImported),t.append("Stock",e.productStock),t.append("PrecioMayorista",d),t.append("Codigo",e.productCode),t.append("PrecioImportacion",h),t.append("CreatedBy",this.userName),this.productService.createProduct(t).subscribe(g=>{console.log("Producto creado:",g),setTimeout(()=>{V.default.Loading.remove(),V.default.Notify.success("\xA1Producto subido exitosamente!"),this.formGroup.reset(),this.selectedFile=null,this.imagePreview=null,this.selectedCategory=null,this.formGroup.get("productCategory")?.setValue(""),this.formGroup.get("isImported")?.setValue(!1),this.showCategoryList=!1},2e3)},g=>{V.default.Loading.remove(),V.default.Notify.failure("Error al subir el producto.")})},()=>{V.default.Notify.info("Carga cancelada.")})}onFileSelected(e){let n=e.target;if(n?.files?.[0]){let t=n.files[0];if(!["image/jpeg","image/png"].includes(t.type)){V.default.Notify.failure("Solo se permiten archivos JPG y PNG"),n.value="";return}this.selectedFile=t;let d=new FileReader;d.onloadend=()=>{this.imagePreview=d.result},d.readAsDataURL(t)}}static{this.\u0275fac=function(n){return new(n||r)(S(qe),S(Z),S(je))}}static{this.\u0275cmp=A({type:r,selectors:[["app-add-product"]],hostBindings:function(n,t){n&1&&_("click",function(d){return t.closeOnOutsideClick(d)},!1,Ie)},decls:67,vars:4,consts:[["autocomplete","off",1,"login-form",3,"ngSubmit","formGroup"],[1,"text-center"],[1,"container",2,"max-width","800px"],[1,"row"],[1,"col-12"],[1,"text-left"],[1,"input","input-multiselect",3,"click"],["class","chip",4,"ngIf"],[1,"bi","bi-caret-down-fill","caret"],["class","category-panel",4,"ngIf"],[1,"row","mt-3"],["type","text","id","productCode","formControlName","productCode","placeholder","C\xF3digo..","autocomplete","off",1,"form-control","gray-input"],[1,"col-6"],[1,"form-check","form-switch"],["type","checkbox","id","isImported","formControlName","isImported",1,"form-check-input"],["type","text","id","productStock","formControlName","productStock","placeholder","Stock..","appOnlyNumbers","","autocomplete","off",1,"form-control","gray-input"],["type","text","id","productPvp","formControlName","productPvp","placeholder","PVP..","appOnlyNumbers","","autocomplete","off",1,"form-control","gray-input"],["type","text","id","productMp","formControlName","productMp","placeholder","Precio Mayorista..","appOnlyNumbers","","autocomplete","off",1,"form-control","gray-input"],["type","text","id","productPi","formControlName","productPi","placeholder","Precio Compra..","appOnlyNumbers","","autocomplete","off",1,"form-control","gray-input"],["type","text","id","productDescription","formControlName","productDescription","placeholder","Ingresa la descripci\xF3n del producto","autocomplete","off",1,"form-control","gray-input"],["type","file","id","productImage","formControlName","productImage","accept",".jpg, .jpeg, .png","autocomplete","off",1,"form-control",3,"change"],["class","row mt-3",4,"ngIf"],[1,"text-center","mt-3"],["type","submit",1,"btn","btn-primary"],[1,"text-center","mt-5"],[1,"text-white","small-text"],[2,"color","#8B50FB"],[1,"chip"],[1,"category-panel"],["class","category-option",3,"active","click",4,"ngFor","ngForOf"],[1,"category-option",3,"click"],["alt","Vista previa",1,"img-fluid",2,"max-width","300px","max-height","300px",3,"src"]],template:function(n,t){n&1&&(o(0,"form",0),_("ngSubmit",function(){return t.onSubmit()}),o(1,"div",1)(2,"h1"),a(3,"Ingresar Productos"),i()(),o(4,"div",2)(5,"div",3)(6,"div",4)(7,"h2",5),a(8,"Categor\xEDa:"),i()(),o(9,"div",4)(10,"div",4)(11,"div",6),_("click",function(d){return t.toggleCategoryList(d)}),x(12,_t,2,1,"span",7),l(13,"i",8),i(),x(14,ht,2,1,"div",9),i()()(),o(15,"div",10)(16,"div",4)(17,"h2",5),a(18,"C\xF3digo:"),i()(),o(19,"div",4),l(20,"input",11),i()(),o(21,"div",10)(22,"div",12)(23,"h2",5),a(24,"\xBFEs producto de importaci\xF3n?"),i(),o(25,"div",13),l(26,"input",14),i()()(),o(27,"div",10)(28,"div",12)(29,"h2",5),a(30,"Stock:"),i(),l(31,"input",15),i(),o(32,"div",12)(33,"h2",5),a(34,"PVP:"),i(),l(35,"input",16),i()(),o(36,"div",10)(37,"div",12)(38,"h2",5),a(39,"Precio Mayorista:"),i(),l(40,"input",17),i(),o(41,"div",12)(42,"h2",5),a(43,"Precio de Compra:"),i(),l(44,"input",18),i()(),o(45,"div",10)(46,"div",4)(47,"h2",5),a(48,"Descripci\xF3n:"),i()(),o(49,"div",4),l(50,"input",19),i()(),o(51,"div",10)(52,"div",4)(53,"h2",5),a(54,"Subir Foto:"),i()(),o(55,"div",12)(56,"input",20),_("change",function(d){return t.onFileSelected(d)}),i()()(),x(57,Ct,5,1,"div",21),i(),o(58,"div",22)(59,"button",23),a(60,"Subir"),i()(),o(61,"div",24)(62,"span",25),a(63," Developed by "),o(64,"strong",26),a(65,"SwiFt\xA9"),i(),a(66," (2025). "),i()()()),n&2&&(p("formGroup",t.formGroup),s(12),p("ngIf",t.selectedCategory),s(2),p("ngIf",t.showCategoryList),s(43),p("ngIf",t.imagePreview))},dependencies:[q,D,H,Y,R,$,U,J,Q],styles:[".login-form[_ngcontent-%COMP%]{background:#18181c}.login-form[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-family:Acephimere,sans-serif;font-weight:1000;font-size:35px;padding-top:20px}.login-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-family:Acephimere,sans-serif;font-weight:1000;font-size:15px}.login-form[_ngcontent-%COMP%]   .small-text[_ngcontent-%COMP%]{font-size:.75rem}.login-form[_ngcontent-%COMP%]   .gray-input[_ngcontent-%COMP%]{background-color:#18181c;color:#fff}.login-form[_ngcontent-%COMP%]   .gray-input[_ngcontent-%COMP%]::placeholder{color:#7b7979!important}.login-form[_ngcontent-%COMP%]   .gray-input-select[_ngcontent-%COMP%]{background-color:#18181c;color:#fff!important}.login-form[_ngcontent-%COMP%]   .gray-input-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#fff!important;background-color:#18181c}.login-form[_ngcontent-%COMP%]   .input-multiselect[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;background:#18181c;border:1px solid rgba(255,255,255,.12);border-radius:6px;padding:.6rem .8rem;color:#e6f1f6;cursor:pointer;position:relative}.login-form[_ngcontent-%COMP%]   .input-multiselect[_ngcontent-%COMP%]   .chip[_ngcontent-%COMP%]{color:#e6dafe;font-size:1.1rem;line-height:1}.login-form[_ngcontent-%COMP%]   .input-multiselect[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{color:#18181c;cursor:pointer}.login-form[_ngcontent-%COMP%]   .input-multiselect[_ngcontent-%COMP%]   .caret[_ngcontent-%COMP%]{margin-left:auto;color:#9aa2ad;font-size:.9rem}.login-form[_ngcontent-%COMP%]   .category-panel[_ngcontent-%COMP%]{position:absolute;z-index:1000;width:100%;max-width:770px;background:#18181c;border:1px solid rgba(255,255,255,.12);border-radius:6px;margin-top:.35rem;padding:.25rem 0;max-height:288px;overflow-y:auto;box-shadow:0 10px 24px #00000059}.login-form[_ngcontent-%COMP%]   .category-option[_ngcontent-%COMP%]{padding:.65rem .9rem;color:#e6f1f6;cursor:pointer}.login-form[_ngcontent-%COMP%]   .category-option[_ngcontent-%COMP%]:hover{background:#22232b}.login-form[_ngcontent-%COMP%]   .category-option.active[_ngcontent-%COMP%]{background:#2b2740;border-left:3px solid #8B50FB}.login-form[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{width:2.5em;height:1.5em}"]})}}return r})();var K=_e(xe());function Pt(r,b){if(r&1){let e=v();o(0,"button",60),_("click",function(){let t;f(e);let c=m(2);return u((t=c.formGroup.get("searchControl"))==null?null:t.setValue(""))}),l(1,"i",61),i()}}function vt(r,b){r&1&&(o(0,"span",62),a(1,"\u2713"),i())}function Mt(r,b){r&1&&(o(0,"span",62),a(1,"\u2713"),i())}function wt(r,b){r&1&&(o(0,"span",62),a(1,"\u2713"),i())}function yt(r,b){if(r&1){let e=v();o(0,"li")(1,"button",33),_("click",function(){let t=f(e).$implicit,c=m(2);return u(c.filtrarCategoria(t))}),l(2,"i",63),a(3),i()()}if(r&2){let e=b.$implicit;s(3),M(" ",e," ")}}function Ot(r,b){if(r&1){let e=v();o(0,"div",71),l(1,"i",72),o(2,"span"),a(3),i(),o(4,"button",73),_("click",function(){f(e);let t=m(3);return u(t.filtrarCategoria(""))}),l(5,"i",74),i()()}if(r&2){let e=m(3);s(3),P(e.selectedCategory)}}function kt(r,b){if(r&1){let e=v();o(0,"div",71),l(1,"i",75),o(2,"span"),a(3,"Productos de importaci\xF3n"),i(),o(4,"button",73),_("click",function(){f(e);let t=m(3);return u(t.toggleImport())}),l(5,"i",74),i()()}}function St(r,b){if(r&1){let e=v();o(0,"div",71),l(1,"i",76),o(2,"span"),a(3,"Stock menor a 5"),i(),o(4,"button",73),_("click",function(){f(e);let t=m(3);return u(t.toggleLowStock())}),l(5,"i",74),i()()}}function Et(r,b){if(r&1){let e=v();o(0,"div",71),l(1,"i",77),o(2,"span"),a(3,"Sin imagen"),i(),o(4,"button",73),_("click",function(){f(e);let t=m(3);return u(t.toggleNoImage())}),l(5,"i",74),i()()}}function It(r,b){if(r&1){let e=v();o(0,"div",64)(1,"div",4)(2,"div",65)(3,"div",66),l(4,"i",30),o(5,"span"),a(6,"Filtros activos:"),i()(),o(7,"div",67),x(8,Ot,6,1,"div",68)(9,kt,6,0,"div",68)(10,St,6,0,"div",68)(11,Et,6,0,"div",68),o(12,"button",69),_("click",function(){f(e);let t=m(2);return u(t.clearAllFilters())}),l(13,"i",70),a(14," Limpiar todo "),i()()()()()}if(r&2){let e=m(2);s(8),p("ngIf",e.selectedCategory),s(),p("ngIf",e.onlyImport),s(),p("ngIf",e.onlyLowStock),s(),p("ngIf",e.onlyNoImage)}}function zt(r,b){if(r&1&&l(0,"img",93),r&2){let e=m().$implicit;p("src",e.foto,L)}}function Ft(r,b){r&1&&(o(0,"div",94),l(1,"i",77),i())}function Tt(r,b){r&1&&(o(0,"span",95),l(1,"i",75),i())}function Vt(r,b){if(r&1&&(o(0,"span",96),l(1,"i",76),a(2),i()),r&2){let e=m().$implicit;s(2),M(" ",e.stock," ")}}function Nt(r,b){if(r&1){let e=v();o(0,"div",78),_("click",function(){let t=f(e).$implicit,c=m(2);return u(c.openModal(t))}),o(1,"div",79),x(2,zt,1,1,"img",80)(3,Ft,2,0,"div",81),o(4,"div",82),x(5,Tt,2,0,"span",83)(6,Vt,3,1,"span",84),i()(),o(7,"div",85)(8,"span",86),a(9),i(),o(10,"h3",87),a(11),i(),o(12,"div",88)(13,"div",89),l(14,"i",90),o(15,"span"),a(16),i()(),o(17,"div",89),l(18,"i",91),o(19,"span"),a(20),T(21,"currency"),i()()(),o(22,"button",92),_("click",function(t){let c=f(e).$implicit;return m(2).openModal(c),u(t.stopPropagation())}),l(23,"i",53),a(24," Editar "),i()()()}if(r&2){let e=b.$implicit;s(2),p("ngIf",e.foto&&e.foto!=="NOT-IMAGE"),s(),p("ngIf",!e.foto||e.foto==="NOT-IMAGE"),s(2),p("ngIf",e.isImport),s(),p("ngIf",e.stock<5),s(3),P(e.codigo),s(2),P(e.descripcion),s(5),M("Stock: ",e.stock,""),s(4),P(N(21,8,e.pvp))}}function At(r,b){if(r&1&&(o(0,"option",126),a(1),i()),r&2){let e=m(3);p("value",e.categoriaActual),s(),M(" ",e.categoriaActual," ")}}function Lt(r,b){if(r&1&&(o(0,"option",126),a(1),i()),r&2){let e=b.$implicit;p("value",e),s(),M(" ",e," ")}}function Dt(r,b){if(r&1){let e=v();o(0,"div",97)(1,"form",98)(2,"div",99)(3,"label",100),l(4,"i",63),a(5," Categor\xEDa "),i(),o(6,"select",101),z("ngModelChange",function(t){f(e);let c=m(2);return I(c.selectedProduct.categoria,t)||(c.selectedProduct.categoria=t),u(t)}),x(7,At,2,2,"option",102)(8,Lt,2,2,"option",103),i()(),o(9,"div",99)(10,"label",100),l(11,"i",104),a(12," C\xF3digo "),i(),o(13,"input",105),z("ngModelChange",function(t){f(e);let c=m(2);return I(c.selectedProduct.codigo,t)||(c.selectedProduct.codigo=t),u(t)}),i()(),o(14,"div",106)(15,"div",107)(16,"input",108),z("ngModelChange",function(t){f(e);let c=m(2);return I(c.selectedProduct.isImport,t)||(c.selectedProduct.isImport=t),u(t)}),i(),o(17,"label",109)(18,"span",110),l(19,"i",20),a(20," \xBFEs producto importado? "),i(),o(21,"span",111),a(22),i()()()(),o(23,"div",99)(24,"label",100),l(25,"i",112),a(26," Descripci\xF3n "),i(),o(27,"input",113),z("ngModelChange",function(t){f(e);let c=m(2);return I(c.selectedProduct.descripcion,t)||(c.selectedProduct.descripcion=t),u(t)}),i()(),o(28,"div",114)(29,"div",99)(30,"label",100),l(31,"i",115),a(32," Stock "),i(),o(33,"input",116),z("ngModelChange",function(t){f(e);let c=m(2);return I(c.selectedProduct.stock,t)||(c.selectedProduct.stock=t),u(t)}),i()(),o(34,"div",99)(35,"label",100),l(36,"i",117),a(37," PVP "),i(),o(38,"input",118),z("ngModelChange",function(t){f(e);let c=m(2);return I(c.selectedProduct.pvp,t)||(c.selectedProduct.pvp=t),u(t)}),i()()(),o(39,"div",114)(40,"div",99)(41,"label",100),l(42,"i",119),a(43," Precio Mayorista "),i(),o(44,"input",120),z("ngModelChange",function(t){f(e);let c=m(2);return I(c.selectedProduct.precioMayorista,t)||(c.selectedProduct.precioMayorista=t),u(t)}),i()(),o(45,"div",99)(46,"label",100),l(47,"i",20),a(48," Precio Importaci\xF3n "),i(),o(49,"input",121),z("ngModelChange",function(t){f(e);let c=m(2);return I(c.selectedProduct.precioImportacion,t)||(c.selectedProduct.precioImportacion=t),u(t)}),i()()(),o(50,"div",99)(51,"label",100),l(52,"i",27),a(53," Actualizar Foto "),i(),o(54,"div",122)(55,"input",123),_("change",function(t){f(e);let c=m(2);return u(c.onFileSelected(t))}),i(),o(56,"label",124),l(57,"i",125),a(58," Seleccionar imagen "),i()()()()()}if(r&2){let e=m(2);s(6),E("ngModel",e.selectedProduct.categoria),s(),p("ngIf",!e.categoriasValidas.includes(e.categoriaActual)),s(),p("ngForOf",e.categoriasValidas),s(5),E("ngModel",e.selectedProduct.codigo),s(3),E("ngModel",e.selectedProduct.isImport),s(6),M(" ",e.selectedProduct.isImport?"S\xED":"No"," "),s(5),E("ngModel",e.selectedProduct.descripcion),s(6),E("ngModel",e.selectedProduct.stock),s(5),E("ngModel",e.selectedProduct.pvp),s(6),E("ngModel",e.selectedProduct.precioMayorista),s(5),E("ngModel",e.selectedProduct.precioImportacion)}}function jt(r,b){if(r&1){let e=v();o(0,"div",1)(1,"form",2),_("ngSubmit",function(){f(e);let t=m();return u(t.onSubmit())}),o(2,"div",3)(3,"div",4)(4,"div",5)(5,"h1",6),l(6,"i",7),o(7,"span",8),a(8,"Editar"),i(),a(9," Productos "),i(),o(10,"p",9),a(11,"Gestiona y actualiza tu inventario de forma r\xE1pida y eficiente"),i()()()(),o(12,"div",10)(13,"div",4)(14,"div",11),l(15,"i",12)(16,"input",13),x(17,Pt,2,0,"button",14),i()()(),o(18,"div",15)(19,"div",4)(20,"div",16)(21,"div",17)(22,"input",18),_("change",function(){f(e);let t=m();return u(t.toggleImport())}),i(),o(23,"label",19),l(24,"i",20),o(25,"span"),a(26,"Importaci\xF3n"),i(),x(27,vt,2,0,"span",21),i()(),o(28,"div",17)(29,"input",22),_("change",function(){f(e);let t=m();return u(t.toggleLowStock())}),i(),o(30,"label",23),l(31,"i",24),o(32,"span"),a(33,"Stock < 5"),i(),x(34,Mt,2,0,"span",21),i()(),o(35,"div",17)(36,"input",25),_("change",function(){f(e);let t=m();return u(t.toggleNoImage())}),i(),o(37,"label",26),l(38,"i",27),o(39,"span"),a(40,"Sin Imagen"),i(),x(41,wt,2,0,"span",21),i()(),o(42,"div",28)(43,"button",29),l(44,"i",30),o(45,"span"),a(46,"Categor\xEDa"),i(),l(47,"i",31),i(),o(48,"ul",32)(49,"li")(50,"button",33),_("click",function(){f(e);let t=m();return u(t.filtrarCategoria(""))}),l(51,"i",34),a(52," Todas las categor\xEDas "),i()(),o(53,"li"),l(54,"hr",35),i(),x(55,yt,4,1,"li",36),i()()()()(),x(56,It,15,4,"div",37),o(57,"div",38)(58,"div",4)(59,"div",39),l(60,"i",40),o(61,"span"),a(62,"Total de productos: "),o(63,"strong"),a(64),i()()(),o(65,"div",41),x(66,Nt,25,10,"div",42),i(),o(67,"div",43)(68,"button",44),_("click",function(){f(e);let t=m();return u(t.onPreviousPage())}),l(69,"i",45),a(70," Anterior "),i(),o(71,"div",46),a(72," P\xE1gina "),o(73,"strong"),a(74),i(),a(75," de "),o(76,"strong"),a(77),i()(),o(78,"button",44),_("click",function(){f(e);let t=m();return u(t.onNextPage())}),a(79," Siguiente "),l(80,"i",47),i()()()()(),o(81,"div",48)(82,"div",49)(83,"div",50)(84,"div",51)(85,"h5",52),l(86,"i",53),a(87," Editar Producto "),i(),l(88,"button",54),i(),x(89,Dt,59,11,"div",55),o(90,"div",56)(91,"button",57),l(92,"i",58),a(93," Cancelar "),i(),o(94,"button",59),_("click",function(){f(e);let t=m();return u(t.guardarEdicion())}),l(95,"i",34),a(96," Guardar Cambios "),i()()()()()()}if(r&2){let e,n,t,c,d=m();s(),p("formGroup",d.formGroup),s(16),p("ngIf",(e=d.formGroup.get("searchControl"))==null?null:e.value),s(10),p("ngIf",(n=d.formGroup.get("importCheck"))==null?null:n.value),s(7),p("ngIf",(t=d.formGroup.get("lowStockCheck"))==null?null:t.value),s(7),p("ngIf",(c=d.formGroup.get("noImageCheck"))==null?null:c.value),s(14),p("ngForOf",d.categoriasValidas),s(),p("ngIf",d.selectedCategory||d.onlyImport||d.onlyLowStock||d.onlyNoImage),s(8),P(d.totalCount),s(2),p("ngForOf",d.products),s(2),p("disabled",d.currentPage===1),s(6),P(d.currentPage),s(3),P(d.totalPages),s(),p("disabled",d.currentPage===d.totalPages),s(11),p("ngIf",d.selectedProduct)}}var be=(()=>{class r{constructor(e,n){this.productService=e,this.fb=n,this.allProducts=[],this.filteredProducts=[],this.products=[],this.currentPage=1,this.pageSize=25,this.totalCount=0,this.totalPages=0,this.categoriasValidas=["Audio y video","Baquelitas","Compuertas e Integrados","Componentes Electr\xF3nicos","Electricidad","Fuentes","Herramientas","Microcontroladores y Arduinos","Modulos y Sensores","Motores","Parlantes","Pilas y Baterias","Plugs y Conectores","Proyectos Y kits","Protoboards","Redes y Comunicaci\xF3n","Transformadores","Otros"],this.selectedCategory="",this.onlyImport=!1,this.onlyLowStock=!1,this.categoriaActual="",this.isFirstLoad=!0,this.isLoading=!0,this.onlyNoImage=!1}ngOnInit(){this.selectedProduct&&(this.categoriaActual=this.selectedProduct.categoria||""),this.formGroup=this.fb.group({searchControl:[""],importCheck:[!1],lowStockCheck:[!1],noImageCheck:[!1]}),this.getProducts(),this.formGroup.get("searchControl")?.valueChanges.pipe(te(300),ne()).subscribe(()=>{this.currentPage=1,this.getProducts()})}getProducts(){this.allProducts.length?this.applyFilter():(this.isFirstLoad&&(K.default.Loading.standard("Cargando productos..."),this.isLoading=!0),this.productService.getProducts(1,1e3,"").subscribe({next:e=>{let n=e?.items??[];this.allProducts=n.map(t=>B(G({},t),{_normDesc:this.normalizeText(`${t.descripcion??""}`),_normCode:this.normalizeText(`${t.codigo??""}`)})),this.applyFilter(),this.isFirstLoad&&(K.default.Loading.remove(),this.isLoading=!1,this.isFirstLoad=!1)},error:e=>{console.error("Error al obtener productos:",e),this.isFirstLoad&&(K.default.Loading.remove(),this.isLoading=!1,this.isFirstLoad=!1)}}))}applyFilter(){let e=this.formGroup.get("searchControl")?.value||"",n=this.tokenize(e),t=this.allProducts;this.selectedCategory&&(t=t.filter(d=>d.categoria===this.selectedCategory)),this.onlyImport&&(t=t.filter(d=>d.isImport===!0||d.isImport===1)),this.onlyLowStock&&(t=t.filter(d=>d.stock<5)),this.onlyNoImage&&(t=t.filter(d=>d.foto==="NOT-IMAGE")),n.length&&(t=t.map(d=>{let h=d._normDesc,g=d._normCode,w=n.every(y=>this.textContainsToken(h,y)||this.textContainsToken(g,y))?this.scoreMatch(h,g,n):-1;return{p:d,score:w}}).filter(d=>d.score>=0).sort((d,h)=>h.score-d.score).map(d=>d.p)),this.filteredProducts=t,this.totalCount=t.length,this.totalPages=Math.ceil(this.totalCount/this.pageSize)||1;let c=(this.currentPage-1)*this.pageSize;this.products=t.slice(c,c+this.pageSize)}onPreviousPage(){this.currentPage>1&&(this.currentPage--,this.applyFilter())}onNextPage(){this.currentPage<this.totalPages&&(this.currentPage++,this.applyFilter())}openModal(e){this.selectedProduct=B(G({},e),{isImport:this.convertToBoolean(e.isImport)});let n=document.getElementById("productModal");n&&new bootstrap.Modal(n).show()}convertToBoolean(e){return typeof e=="boolean"?e:typeof e=="number"?e===1:typeof e=="string"?e.toLowerCase()==="true"||e==="1":!1}guardarEdicion(){this.selectedProduct&&this.productService.updateProduct(this.selectedProduct.id,this.selectedProduct).subscribe(e=>{let n=this.allProducts.findIndex(t=>t.id===e.id);n!==-1&&(this.allProducts[n]=B(G({},e),{_normDesc:this.normalizeText(`${e.descripcion??""}`),_normCode:this.normalizeText(`${e.codigo??""}`)})),this.applyFilter(),this.closeModal(),K.default.Report.success("Producto actualizado","El producto ha sido actualizado correctamente.","Aceptar")},e=>{console.error("Error al actualizar el producto",e),K.default.Report.failure("Error","Hubo un problema al actualizar el producto.","Cerrar")})}closeModal(){let e=document.getElementById("productModal");e&&bootstrap.Modal.getInstance(e)?.hide()}onSubmit(){this.currentPage=1,this.applyFilter()}onFileSelected(e){let n=e.target.files[0];n&&this.selectedProduct&&(this.selectedProduct.archivo=n)}normalizeText(e){return(e||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/\s+/g," ").trim()}tokenize(e){return this.normalizeText(e).match(/[a-z0-9]+/gi)?.map(t=>this.normalizeText(t))??[]}stem(e){return e.replace(/(es|s)$/i,"")}escapeRegExp(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}textContainsToken(e,n){if(!e||!n)return!1;let t=this.escapeRegExp(n),c=this.escapeRegExp(this.stem(n));return e.includes(n)||c&&e.includes(c)||new RegExp(`\\b${t}`,"i").test(e)||new RegExp(`${t}\\b`,"i").test(e)}scoreMatch(e,n,t){let c=0;for(let g of t){let C=this.textContainsToken(n,g),w=this.textContainsToken(e,g);C&&(c+=10),w&&(c+=4);let y=this.escapeRegExp(g);new RegExp(`\\b${y}\\b`).test(e)&&(c+=2),new RegExp(`\\b${y}\\b`).test(n)&&(c+=4),e.startsWith(g)&&(c+=2),n.startsWith(g)&&(c+=3)}let d=t.every(g=>this.textContainsToken(e,g)),h=t.every(g=>this.textContainsToken(n,g));return d&&(c+=5),h&&(c+=8),c}filtrarCategoria(e){this.selectedCategory=e,this.currentPage=1,this.applyFilter()}toggleImport(){this.onlyImport=this.formGroup.get("importCheck")?.value,this.currentPage=1,this.applyFilter()}toggleLowStock(){this.onlyLowStock=this.formGroup.get("lowStockCheck")?.value,this.currentPage=1,this.applyFilter()}toggleNoImage(){this.onlyNoImage=this.formGroup.get("noImageCheck")?.value,this.currentPage=1,this.applyFilter()}clearAllFilters(){this.selectedCategory="",this.onlyImport=!1,this.onlyLowStock=!1,this.onlyNoImage=!1,this.formGroup.patchValue({importCheck:!1,lowStockCheck:!1,noImageCheck:!1}),this.currentPage=1,this.applyFilter()}static{this.\u0275fac=function(n){return new(n||r)(S(Z),S(ge))}}static{this.\u0275cmp=A({type:r,selectors:[["app-edit-product"]],standalone:!0,features:[Te],decls:1,vars:1,consts:[["class","modern-edit-page",4,"ngIf"],[1,"modern-edit-page"],[3,"ngSubmit","formGroup"],[1,"edit-hero"],[1,"container"],[1,"animate-fade-in"],[1,"hero-title"],[1,"bi","bi-pencil-square","me-3"],[1,"text-gradient"],[1,"hero-subtitle"],[1,"search-section"],[1,"search-wrapper","animate-fade-in-delay"],[1,"bi","bi-search","search-icon"],["type","search","placeholder","Buscar por c\xF3digo o descripci\xF3n...","formControlName","searchControl",1,"search-input"],["type","button","class","search-clear",3,"click",4,"ngIf"],[1,"filters-section"],[1,"filters-wrapper"],[1,"filter-chip"],["type","checkbox","id","importCheck","formControlName","importCheck",1,"filter-checkbox",3,"change"],["for","importCheck",1,"filter-label"],[1,"bi","bi-globe","me-2"],["class","filter-badge",4,"ngIf"],["type","checkbox","id","lowStockCheck","formControlName","lowStockCheck",1,"filter-checkbox",3,"change"],["for","lowStockCheck",1,"filter-label"],[1,"bi","bi-exclamation-triangle-fill","me-2"],["type","checkbox","id","noImageCheck","formControlName","noImageCheck",1,"filter-checkbox",3,"change"],["for","noImageCheck",1,"filter-label"],[1,"bi","bi-image","me-2"],[1,"dropdown","filter-dropdown"],["type","button","data-bs-toggle","dropdown",1,"filter-dropdown-btn"],[1,"bi","bi-funnel-fill","me-2"],[1,"bi","bi-chevron-down","ms-2"],[1,"dropdown-menu","modern-dropdown"],["type","button",1,"dropdown-item",3,"click"],[1,"bi","bi-check-circle-fill","me-2"],[1,"dropdown-divider"],[4,"ngFor","ngForOf"],["class","active-filters-section",4,"ngIf"],[1,"products-section"],[1,"products-count"],[1,"bi","bi-box-seam-fill","me-2"],[1,"products-grid"],["class","product-card",3,"click",4,"ngFor","ngForOf"],[1,"pagination-wrapper"],["type","button",1,"btn-pagination",3,"click","disabled"],[1,"bi","bi-chevron-left","me-2"],[1,"pagination-info"],[1,"bi","bi-chevron-right","ms-2"],["id","productModal","tabindex","-1","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-lg"],[1,"modal-content","modern-modal"],[1,"modal-header","modern-modal-header"],[1,"modal-title"],[1,"bi","bi-pencil-square","me-2"],["type","button","data-bs-dismiss","modal",1,"btn-close","btn-close-white"],["class","modal-body modern-modal-body",4,"ngIf"],[1,"modal-footer","modern-modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn-modal-cancel"],[1,"bi","bi-x-circle","me-2"],["type","button",1,"btn-modal-confirm",3,"click"],["type","button",1,"search-clear",3,"click"],[1,"bi","bi-x-circle-fill"],[1,"filter-badge"],[1,"bi","bi-tag-fill","me-2"],[1,"active-filters-section"],[1,"active-filters-wrapper","animate-fade-in"],[1,"active-filters-label"],[1,"active-filters-chips"],["class","active-chip",4,"ngIf"],["title","Limpiar todos los filtros",1,"clear-all-btn",3,"click"],[1,"bi","bi-trash-fill","me-2"],[1,"active-chip"],[1,"bi","bi-tag-fill"],["title","Quitar filtro",1,"chip-remove",3,"click"],[1,"bi","bi-x"],[1,"bi","bi-globe"],[1,"bi","bi-exclamation-triangle-fill"],[1,"bi","bi-image"],[1,"product-card",3,"click"],[1,"card-image"],["alt","Producto",3,"src",4,"ngIf"],["class","no-image-card",4,"ngIf"],[1,"card-badges"],["class","badge-import",4,"ngIf"],["class","badge-stock",4,"ngIf"],[1,"card-content"],[1,"card-code"],[1,"card-title"],[1,"card-info"],[1,"info-item"],[1,"bi","bi-box-seam"],[1,"bi","bi-currency-dollar"],[1,"card-btn",3,"click"],["alt","Producto",3,"src"],[1,"no-image-card"],[1,"badge-import"],[1,"badge-stock"],[1,"modal-body","modern-modal-body"],[1,"edit-form"],[1,"form-group"],[1,"form-label"],["name","categoria",1,"form-select-modern",3,"ngModelChange","ngModel"],[3,"value",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"bi","bi-upc-scan","me-2"],["type","text","name","codigo","placeholder","Ej: ABC123",1,"form-input-modern",3,"ngModelChange","ngModel"],[1,"form-group-switch"],[1,"switch-container"],["type","checkbox","id","isImportCheck","name","isImport",1,"switch-input",3,"ngModelChange","ngModel"],["for","isImportCheck",1,"switch-label"],[1,"switch-text"],[1,"switch-status"],[1,"bi","bi-text-left","me-2"],["type","text","name","descripcion","placeholder","Descripci\xF3n del producto",1,"form-input-modern",3,"ngModelChange","ngModel"],[1,"form-row"],[1,"bi","bi-box-seam","me-2"],["type","number","name","stock","placeholder","0",1,"form-input-modern",3,"ngModelChange","ngModel"],[1,"bi","bi-currency-dollar","me-2"],["type","number","name","pvp","placeholder","0.00","step","0.01",1,"form-input-modern",3,"ngModelChange","ngModel"],[1,"bi","bi-cart-check","me-2"],["type","number","name","precioMayorista","placeholder","0.00","step","0.01",1,"form-input-modern",3,"ngModelChange","ngModel"],["type","number","name","precioImportacion","placeholder","0.00","step","0.01",1,"form-input-modern",3,"ngModelChange","ngModel"],[1,"file-input-wrapper"],["type","file","id","fileInput","accept","image/*",1,"file-input-modern",3,"change"],["for","fileInput",1,"file-input-label"],[1,"bi","bi-cloud-upload","me-2"],[3,"value"]],template:function(n,t){n&1&&x(0,jt,97,14,"div",0),n&2&&p("ngIf",!t.isLoading)},dependencies:[ue,H,me,pe,Y,Be,R,se,$,U,J,Q,fe,le,Ge,ce,q,D,W],styles:[".modern-edit-page[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0d1117,#161b22,#0d1117);min-height:100vh}[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px;height:12px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#0a1929;border-radius:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:linear-gradient(135deg,#60a5fa,#8b50fb);border-radius:10px;border:2px solid #0a1929}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:linear-gradient(135deg,#8b50fb,#60a5fa)}[_ngcontent-%COMP%]::-webkit-scrollbar-corner{background:#0a1929}.edit-hero[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0c1e3a,#020617);padding:1.25rem 0;border-bottom:2px solid rgba(96,165,250,.2)}.hero-title[_ngcontent-%COMP%]{color:#fff;font-size:2rem;font-weight:800;margin-bottom:.5rem;display:flex;align-items:center;justify-content:center}.text-gradient[_ngcontent-%COMP%]{background:linear-gradient(135deg,#60a5fa,#8b50fb);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.hero-subtitle[_ngcontent-%COMP%]{color:#8b949e;font-size:1.1rem;text-align:center;margin:0}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out}.animate-fade-in-delay[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out .2s both}.search-section[_ngcontent-%COMP%]{padding:1rem 0;position:relative;z-index:10}.search-wrapper[_ngcontent-%COMP%]{position:relative;max-width:800px;margin:0 auto}.search-icon[_ngcontent-%COMP%]{position:absolute;left:1.5rem;top:50%;transform:translateY(-50%);color:#60a5fa;font-size:1.25rem;z-index:2}.search-input[_ngcontent-%COMP%]{width:100%;padding:1rem 3.5rem 1rem 4rem;background:#161b22f2;border:2px solid rgba(96,165,250,.3);border-radius:50px;color:#fff;font-size:1rem;transition:all .3s ease}.search-input[_ngcontent-%COMP%]::placeholder{color:#8b949e}.search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#60a5fa;box-shadow:0 0 0 4px #60a5fa33,0 4px 20px #60a5fa4d;background:#161b22}.search-clear[_ngcontent-%COMP%]{position:absolute;right:1.5rem;top:50%;transform:translateY(-50%);background:none;border:none;color:#8b949e;font-size:1.25rem;cursor:pointer;transition:all .3s ease}.search-clear[_ngcontent-%COMP%]:hover{color:#ef4444;transform:translateY(-50%) scale(1.1)}.filters-section[_ngcontent-%COMP%]{padding:.75rem 0;position:relative;z-index:100}.filters-wrapper[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1rem;justify-content:center}.filter-chip[_ngcontent-%COMP%]{position:relative}.filter-checkbox[_ngcontent-%COMP%]{position:absolute;opacity:0;pointer-events:none}.filter-label[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.625rem 1.25rem;background:#60a5fa1a;border:2px solid rgba(96,165,250,.2);border-radius:50px;color:#fff;font-weight:600;font-size:.9rem;cursor:pointer;transition:all .3s ease;-webkit-user-select:none;user-select:none}.filter-checkbox[_ngcontent-%COMP%]:checked + .filter-label[_ngcontent-%COMP%]{background:#60a5fa40;border-color:#60a5fa;box-shadow:0 4px 12px #60a5fa4d}.filter-label[_ngcontent-%COMP%]:hover{transform:translateY(-2px);border-color:#60a5fa}.filter-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;width:20px;height:20px;background:#6fb855;color:#fff;border-radius:50%;font-size:.75rem;margin-left:.5rem;font-weight:700}.filter-dropdown-btn[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.625rem 1.25rem;background:#8b50fb1a;border:2px solid rgba(139,80,251,.2);border-radius:50px;color:#fff;font-weight:600;font-size:.9rem;transition:all .3s ease;position:relative;z-index:100}.filter-dropdown-btn[_ngcontent-%COMP%]:hover{background:#8b50fb33;border-color:#8b50fb;transform:translateY(-2px)}.modern-dropdown[_ngcontent-%COMP%]{background:#161b22fa;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:1px solid rgba(96,165,250,.2);border-radius:12px;padding:.5rem;margin-top:.5rem;box-shadow:0 8px 24px #0006;max-height:400px;overflow-y:auto;position:absolute!important;z-index:1050!important}.modern-dropdown[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px}.modern-dropdown[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#0a1929;border-radius:10px}.modern-dropdown[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:linear-gradient(135deg,#60a5fa,#8b50fb);border-radius:10px;border:2px solid rgba(22,27,34,.8)}.modern-dropdown[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:linear-gradient(135deg,#8b50fb,#60a5fa)}.modern-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{color:#fffc;padding:.625rem 1rem;border-radius:8px;display:flex;align-items:center;transition:all .3s ease}.modern-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover{background:#60a5fa26;color:#fff;transform:translate(4px)}.products-section[_ngcontent-%COMP%]{padding:1rem 0 1.5rem;position:relative;z-index:10}.modern-table[_ngcontent-%COMP%]{background:#0d1117!important;border:2px solid rgba(96,165,250,.3)!important;border-radius:16px;overflow:hidden;box-shadow:0 4px 12px #0006}.modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:linear-gradient(135deg,#60a5fa40,#60a5fa26)!important}.modern-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#60a5fa!important;font-weight:700;padding:.75rem .5rem;border:none!important;text-align:center;font-size:1.05rem;text-transform:uppercase;letter-spacing:.5px;background:transparent!important}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{background:#0d1117!important}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:all .3s ease;background:#161b22!important;border-bottom:1px solid rgba(96,165,250,.15)!important}.modern-table[_ngcontent-%COMP%]   .product-row[_ngcontent-%COMP%]{cursor:pointer}.modern-table[_ngcontent-%COMP%]   .product-row[_ngcontent-%COMP%]:hover{background:#60a5fa33!important;transform:scale(1.01);box-shadow:0 2px 8px #60a5fa4d}.modern-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:#e6edf3!important;padding:.75rem .5rem;border:none!important;vertical-align:middle;font-size:1rem;background:transparent!important;text-align:center}.code-cell[_ngcontent-%COMP%]{font-family:monospace;color:#58a6ff;font-weight:700;font-size:1.05rem;letter-spacing:.5px}.desc-cell[_ngcontent-%COMP%]{text-align:center;color:#e6edf3;font-weight:500}.product-image-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center}.product-image[_ngcontent-%COMP%]{max-width:80px;max-height:80px;border-radius:8px;object-fit:cover}.no-image[_ngcontent-%COMP%]{width:80px;height:80px;background:#60a5fa1a;border-radius:8px;display:flex;align-items:center;justify-content:center;color:#60a5fa;font-size:2rem}.btn-add-quote[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6fb855,#5a9644);color:#fff;border:none;border-radius:50%;width:40px;height:40px;display:flex;align-items:center;justify-content:center;font-size:1.25rem;transition:all .3s ease;margin:0 auto}.btn-add-quote[_ngcontent-%COMP%]:hover{transform:scale(1.15);box-shadow:0 4px 12px #6fb85580}.products-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:.75rem}.product-card[_ngcontent-%COMP%]{background:#161b22f2;border:2px solid rgba(96,165,250,.2);border-radius:12px;overflow:hidden;transition:all .3s ease;cursor:pointer}.product-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);border-color:#60a5fa;box-shadow:0 8px 24px #60a5fa4d}.card-image[_ngcontent-%COMP%]{position:relative;height:130px;overflow:hidden;background:#0d1117cc}.card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.no-image-card[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;color:#60a5fa;font-size:2.5rem}.card-content[_ngcontent-%COMP%]{padding:.75rem}.card-code[_ngcontent-%COMP%]{display:inline-block;padding:.2rem .5rem;background:#60a5fa26;border:1px solid rgba(96,165,250,.3);border-radius:20px;color:#60a5fa;font-size:.75rem;font-weight:700;margin-bottom:.4rem}.card-title[_ngcontent-%COMP%]{color:#fff;font-size:.85rem;font-weight:600;margin-bottom:.6rem;line-height:1.3;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;min-height:2.2em}.card-btn[_ngcontent-%COMP%]{width:100%;padding:.75rem;background:linear-gradient(135deg,#60a5fa,#3b82f6);color:#fff;border:none;border-radius:50px;font-weight:600;transition:all .3s ease}.pagination-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:1.5rem;margin-top:1rem;padding:1rem;background:#161b22cc;border-radius:16px;border:1px solid rgba(96,165,250,.2)}.btn-pagination[_ngcontent-%COMP%]{padding:.75rem 1.5rem;background:#60a5fa26;border:2px solid rgba(96,165,250,.3);border-radius:50px;color:#fff;font-weight:600;display:flex;align-items:center;gap:.5rem;transition:all .3s ease}.btn-pagination[_ngcontent-%COMP%]:hover:not(:disabled){background:#60a5fa40;border-color:#60a5fa;transform:translateY(-2px)}.btn-pagination[_ngcontent-%COMP%]:disabled{opacity:.4;cursor:not-allowed}.pagination-info[_ngcontent-%COMP%]{color:#fff;font-weight:500}.pagination-info[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#60a5fa}.products-count[_ngcontent-%COMP%]{text-align:center;margin-top:0;margin-bottom:.75rem;padding:.75rem;background:#8b50fb1a;border:1px solid rgba(139,80,251,.2);border-radius:12px;color:#fff;font-weight:500}.quote-summary[_ngcontent-%COMP%]{padding:1.5rem 0;position:relative;z-index:10}.summary-header[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;align-items:center;gap:1rem;margin-bottom:1rem}.summary-title[_ngcontent-%COMP%]{color:#fff;font-size:1.75rem;font-weight:700;display:flex;align-items:center;margin:0}.summary-actions[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.75rem}.btn-summary[_ngcontent-%COMP%]{padding:.75rem 1.25rem;border:none;border-radius:50px;font-weight:600;display:flex;align-items:center;transition:all .3s ease}.btn-shipping[_ngcontent-%COMP%]{background:#60a5fa26;border:2px solid rgba(96,165,250,.3);color:#60a5fa}.btn-shipping[_ngcontent-%COMP%]:hover{background:#60a5fa40;transform:translateY(-2px)}.btn-pdf[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#dc2626);color:#fff}.btn-pdf[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#dc2626,#b91c1c);transform:translateY(-2px);box-shadow:0 4px 12px #ef444466}.btn-excel[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669);color:#fff}.btn-excel[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#059669,#047857);transform:translateY(-2px);box-shadow:0 4px 12px #10b98166}.modern-table-summary[_ngcontent-%COMP%]{background:#0d1117!important;border:2px solid rgba(96,165,250,.3)!important;border-radius:16px;overflow:hidden;box-shadow:0 4px 12px #0006}.modern-table-summary[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669)!important}.modern-table-summary[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#fff!important;font-weight:700;padding:.75rem .5rem;border:none!important;font-size:1.05rem;text-transform:uppercase;letter-spacing:.5px;background:transparent!important}.modern-table-summary[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{background:#0d1117!important}.modern-table-summary[_ngcontent-%COMP%]   .summary-row[_ngcontent-%COMP%]{transition:all .3s ease;background:#161b22!important;border-bottom:1px solid rgba(96,165,250,.15)!important}.modern-table-summary[_ngcontent-%COMP%]   .summary-row[_ngcontent-%COMP%]:hover{background:#60a5fa26!important}.modern-table-summary[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:#e6edf3!important;padding:.75rem .5rem;border:none!important;font-size:1rem;font-weight:500;background:transparent!important;text-align:center}.product-thumb[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:60px;max-height:60px;border-radius:8px;border:2px solid rgba(96,165,250,.2)}.no-thumb[_ngcontent-%COMP%]{color:#8b949e;font-size:1.5rem}.product-name[_ngcontent-%COMP%]{color:#e6edf3;font-weight:600;font-size:1rem}.quantity[_ngcontent-%COMP%]{color:#58a6ff;font-weight:700;font-size:1.05rem;text-align:center}.price[_ngcontent-%COMP%]{color:#7ee787;font-weight:600;font-size:1rem;text-align:center}.summary-total-row[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b98133,#05966926);border-top:2px solid rgba(96,165,250,.3)}.total-label[_ngcontent-%COMP%]{color:#e6edf3;font-weight:700;text-align:right;font-size:1.15rem;text-transform:uppercase;letter-spacing:.5px}.total-amount[_ngcontent-%COMP%]{color:#7ee787;font-weight:700;font-size:1.5rem;text-shadow:0 0 10px rgba(126,231,135,.3)}.btn-delete[_ngcontent-%COMP%]{background:#ef444426;border:2px solid rgba(239,68,68,.3);color:#ef4444;border-radius:50%;width:36px;height:36px;display:flex;align-items:center;justify-content:center;transition:all .3s ease}.btn-delete[_ngcontent-%COMP%]:hover{background:#ef444440;transform:scale(1.1)}.summary-cards[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.summary-card[_ngcontent-%COMP%]{background:#161b22f2;border:2px solid rgba(96,165,250,.2);border-radius:16px;overflow:hidden}.summary-card-header[_ngcontent-%COMP%]{display:flex;gap:1rem;padding:1rem;align-items:start}.summary-card-image[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:8px;object-fit:cover}.summary-card-info[_ngcontent-%COMP%]{flex:1}.summary-card-title[_ngcontent-%COMP%]{color:#fff;font-size:.95rem;font-weight:600;margin-bottom:.5rem;line-height:1.3}.summary-card-details[_ngcontent-%COMP%]{display:flex;gap:1rem}.detail-item[_ngcontent-%COMP%]{color:#8b949e;font-size:.85rem;display:flex;align-items:center}.summary-card-delete[_ngcontent-%COMP%]{background:#ef444426;border:2px solid rgba(239,68,68,.3);color:#ef4444;border-radius:50%;width:36px;height:36px;display:flex;align-items:center;justify-content:center;transition:all .3s ease}.summary-card-delete[_ngcontent-%COMP%]:hover{background:#ef444440;transform:scale(1.1)}.summary-card-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:1rem;background:#60a5fa0d;border-top:1px solid rgba(96,165,250,.1)}.footer-label[_ngcontent-%COMP%]{color:#8b949e;font-weight:500}.footer-amount[_ngcontent-%COMP%]{color:#6fb855;font-weight:700;font-size:1.1rem}.summary-mobile-total[_ngcontent-%COMP%]{margin-top:1rem;padding:1.5rem;background:#60a5fa1a;border:2px solid rgba(96,165,250,.3);border-radius:16px;display:flex;justify-content:space-between;align-items:center}.mobile-total-label[_ngcontent-%COMP%]{color:#fff;font-weight:700;font-size:1.1rem}.mobile-total-amount[_ngcontent-%COMP%]{color:#6fb855;font-weight:700;font-size:1.5rem}.quote-footer[_ngcontent-%COMP%]{padding:2rem 0;background:#0d1117cc;border-top:1px solid rgba(96,165,250,.1)}.footer-text[_ngcontent-%COMP%]{color:#8b949e;font-size:.875rem;margin:0}.brand-purple[_ngcontent-%COMP%]{color:#8b50fb;font-weight:700}.modern-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:#161b22fa!important;border:2px solid rgba(96,165,250,.2);border-radius:16px}.modern-modal-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0c1e3a,#020617);border-bottom:1px solid rgba(96,165,250,.2);padding:1rem}.modern-modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{color:#fff;font-weight:700;display:flex;align-items:center;font-size:1.1rem}.modern-modal-body[_ngcontent-%COMP%]{padding:1.25rem;background:#0d1117!important}.resistor-selector[_ngcontent-%COMP%]{margin-bottom:1rem}.resistor-label[_ngcontent-%COMP%]{display:flex;align-items:center;color:#fff;font-weight:600;margin-bottom:.5rem;font-size:.95rem}.resistor-select[_ngcontent-%COMP%]{width:100%;padding:.625rem .875rem;background:#161b22f2;border:2px solid rgba(96,165,250,.3);border-radius:12px;color:#fff;font-size:.95rem}.resistor-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#60a5fa;box-shadow:0 0 0 4px #60a5fa33}@media (max-width: 992px){.hero-title[_ngcontent-%COMP%]{font-size:2rem}.search-input[_ngcontent-%COMP%]{padding:.875rem 3rem .875rem 3.5rem}.filters-wrapper[_ngcontent-%COMP%]{gap:.75rem}}@media (max-width: 576px){.hero-title[_ngcontent-%COMP%]{font-size:1.5rem;flex-direction:column;gap:.5rem}.hero-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2rem}.hero-subtitle[_ngcontent-%COMP%]{font-size:.95rem}.search-section[_ngcontent-%COMP%]{padding:1.5rem 0}.search-input[_ngcontent-%COMP%]{font-size:.9rem;padding:.75rem 2.5rem .75rem 3rem}.search-icon[_ngcontent-%COMP%]{font-size:1.1rem;left:1rem}.search-clear[_ngcontent-%COMP%]{font-size:1.1rem;right:1rem}.filters-section[_ngcontent-%COMP%]{padding:1rem 0}.filter-label[_ngcontent-%COMP%]{padding:.5rem 1rem;font-size:.85rem}.products-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:.5rem}.product-card[_ngcontent-%COMP%]{border-radius:10px}.card-image[_ngcontent-%COMP%]{height:110px}.card-content[_ngcontent-%COMP%]{padding:.65rem}.card-code[_ngcontent-%COMP%]{font-size:.75rem;padding:.15rem .5rem;margin-bottom:.4rem}.card-title[_ngcontent-%COMP%]{font-size:.85rem;margin-bottom:.5rem;line-height:1.3}.card-btn[_ngcontent-%COMP%]{padding:.5rem;font-size:.8rem}.summary-title[_ngcontent-%COMP%]{font-size:1.25rem}.btn-summary[_ngcontent-%COMP%]{padding:.625rem 1rem;font-size:.85rem}.summary-card-header[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.summary-card-image[_ngcontent-%COMP%]{width:100%;height:150px;border-radius:8px 8px 0 0}.pagination-wrapper[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.products-count[_ngcontent-%COMP%]{font-size:.9rem}}@media (max-width: 400px){.hero-title[_ngcontent-%COMP%]{font-size:1.35rem}.search-input[_ngcontent-%COMP%]{font-size:.85rem;padding:.65rem 2.25rem .65rem 2.75rem}.filter-label[_ngcontent-%COMP%]{padding:.4rem .85rem;font-size:.8rem}.products-grid[_ngcontent-%COMP%]{gap:.4rem}.card-image[_ngcontent-%COMP%]{height:100px}.card-content[_ngcontent-%COMP%]{padding:.55rem}.card-code[_ngcontent-%COMP%]{font-size:.7rem;padding:.1rem .45rem}.card-title[_ngcontent-%COMP%]{font-size:.8rem;margin-bottom:.4rem}.card-btn[_ngcontent-%COMP%]{padding:.45rem;font-size:.75rem}}.dropdown-menu.modern-dropdown[_ngcontent-%COMP%]{z-index:1050!important}.filter-dropdown[_ngcontent-%COMP%]{position:relative;z-index:100}.active-filters-section[_ngcontent-%COMP%]{padding:.75rem 0;background:#0d111799;border-bottom:1px solid rgba(96,165,250,.1)}.active-filters-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;flex-wrap:wrap}.active-filters-label[_ngcontent-%COMP%]{display:flex;align-items:center;color:#60a5fa;font-weight:600;font-size:.9rem;white-space:nowrap}.active-filters-label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.active-filters-chips[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;flex-wrap:wrap;flex:1}.active-chip[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem .75rem;background:linear-gradient(135deg,#8b50fb33,#8b50fb26);border:2px solid rgba(139,80,251,.4);border-radius:50px;color:#e6edf3;font-size:.85rem;font-weight:600;animation:_ngcontent-%COMP%_slideIn .3s ease}.active-chip[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#8b50fb;font-size:.95rem}.active-chip[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{max-width:200px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.chip-remove[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:20px;height:20px;background:#ef444433;border:1px solid rgba(239,68,68,.3);border-radius:50%;color:#ef4444;padding:0;transition:all .2s ease;cursor:pointer}.chip-remove[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.85rem;color:#ef4444}.chip-remove[_ngcontent-%COMP%]:hover{background:#ef444466;border-color:#ef4444;transform:scale(1.1)}.chip-remove[_ngcontent-%COMP%]:active{transform:scale(.95)}.clear-all-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem .875rem;background:#ef444426;border:2px solid rgba(239,68,68,.3);border-radius:50px;color:#ef4444;font-size:.85rem;font-weight:600;transition:all .3s ease;white-space:nowrap}.clear-all-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem}.clear-all-btn[_ngcontent-%COMP%]:hover{background:#ef444440;border-color:#ef4444;transform:translateY(-2px);box-shadow:0 4px 12px #ef44444d}.clear-all-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translate(-10px)}to{opacity:1;transform:translate(0)}}.quantity-controls[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem}.btn-quantity-minus[_ngcontent-%COMP%], .btn-quantity-plus[_ngcontent-%COMP%]{width:32px;height:32px;display:flex;align-items:center;justify-content:center;border:2px solid rgba(96,165,250,.3);border-radius:8px;background:#60a5fa1a;color:#60a5fa;font-size:1rem;cursor:pointer;transition:all .3s ease}.btn-quantity-minus[_ngcontent-%COMP%]:hover, .btn-quantity-plus[_ngcontent-%COMP%]:hover{background:#60a5fa40;border-color:#60a5fa;transform:scale(1.1)}.btn-quantity-minus[_ngcontent-%COMP%]:active, .btn-quantity-plus[_ngcontent-%COMP%]:active{transform:scale(.95)}.btn-quantity-minus[_ngcontent-%COMP%]:hover{background:#ef444426;border-color:#ef4444;color:#ef4444}.btn-quantity-plus[_ngcontent-%COMP%]:hover{background:#10b98126;border-color:#10b981;color:#10b981}.quantity-value[_ngcontent-%COMP%]{min-width:40px;text-align:center;font-weight:700;font-size:1.1rem;color:#e6edf3}.quantity-controls-mobile[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.4rem}.quantity-controls-mobile[_ngcontent-%COMP%]   .btn-quantity-minus[_ngcontent-%COMP%], .quantity-controls-mobile[_ngcontent-%COMP%]   .btn-quantity-plus[_ngcontent-%COMP%]{width:28px;height:28px;font-size:.9rem}.quantity-controls-mobile[_ngcontent-%COMP%]   .quantity-value[_ngcontent-%COMP%]{min-width:32px;font-size:1rem}.shipping-form[_ngcontent-%COMP%]{padding:.5rem 0}.shipping-label[_ngcontent-%COMP%]{display:flex;align-items:center;color:#60a5fa;font-size:.95rem;font-weight:600;margin-bottom:.75rem}.input-group-modern[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.input-prefix[_ngcontent-%COMP%]{position:absolute;left:1rem;color:#60a5fa;font-size:1.1rem;font-weight:700;z-index:2}.shipping-input[_ngcontent-%COMP%]{width:100%;padding:.875rem 1rem .875rem 2.5rem;background:#161b22f2;border:2px solid rgba(96,165,250,.3);border-radius:12px;color:#e6edf3;font-size:1.1rem;font-weight:600;transition:all .3s ease}.shipping-input[_ngcontent-%COMP%]::placeholder{color:#8b949e}.shipping-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#60a5fa;box-shadow:0 0 0 4px #60a5fa33}.shipping-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-top:.75rem;padding:.625rem;background:#60a5fa1a;border-radius:8px;color:#8b949e;font-size:.85rem}.shipping-info[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#60a5fa}.modern-modal-footer[_ngcontent-%COMP%]{background:#0d1117cc;border-top:1px solid rgba(96,165,250,.2);padding:1rem;display:flex;gap:.75rem;justify-content:flex-end}.btn-modal-cancel[_ngcontent-%COMP%]{padding:.625rem 1.25rem;background:#ef444426;border:2px solid rgba(239,68,68,.3);border-radius:50px;color:#ef4444;font-weight:600;transition:all .3s ease}.btn-modal-cancel[_ngcontent-%COMP%]:hover{background:#ef444440;transform:translateY(-2px)}.btn-modal-confirm[_ngcontent-%COMP%]{padding:.625rem 1.25rem;background:linear-gradient(135deg,#10b981,#059669);border:none;border-radius:50px;color:#fff;font-weight:600;display:flex;align-items:center;transition:all .3s ease}.btn-modal-confirm[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#059669,#047857);transform:translateY(-2px);box-shadow:0 4px 12px #10b98166}.download-loader[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:9999;display:flex;align-items:center;justify-content:center}.loader-backdrop[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:#0d1117f2;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.loader-content[_ngcontent-%COMP%]{position:relative;z-index:2;text-align:center;padding:3rem 2rem;background:#161b22fa;border:2px solid rgba(96,165,250,.3);border-radius:24px;box-shadow:0 20px 60px #00000080;min-width:350px;animation:_ngcontent-%COMP%_fadeInScale .4s ease}.loader-spinner[_ngcontent-%COMP%]{width:100px;height:100px;margin:0 auto 1.5rem;background:linear-gradient(135deg,#60a5fa33,#8b50fb33);border-radius:50%;display:flex;align-items:center;justify-content:center;animation:_ngcontent-%COMP%_pulse 1.5s ease-in-out infinite}.loader-spinner[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;color:#60a5fa;animation:_ngcontent-%COMP%_bounce 1s ease-in-out infinite}.loader-title[_ngcontent-%COMP%]{color:#e6edf3;font-size:1.5rem;font-weight:700;margin-bottom:.5rem}.loader-subtitle[_ngcontent-%COMP%]{color:#8b949e;font-size:1rem;margin-bottom:1.5rem}.loader-progress[_ngcontent-%COMP%]{width:100%;height:6px;background:#60a5fa1a;border-radius:10px;overflow:hidden}.progress-bar[_ngcontent-%COMP%]{width:0;height:100%;background:linear-gradient(90deg,#60a5fa,#8b50fb,#60a5fa);background-size:200% 100%;border-radius:10px;animation:_ngcontent-%COMP%_progressLoad 2s ease-in-out infinite,_ngcontent-%COMP%_gradientMove 2s linear infinite}@keyframes _ngcontent-%COMP%_fadeInScale{0%{opacity:0;transform:scale(.9)}to{opacity:1;transform:scale(1)}}@keyframes _ngcontent-%COMP%_pulse{0%,to{transform:scale(1);box-shadow:0 0 #60a5fa66}50%{transform:scale(1.05);box-shadow:0 0 0 20px #60a5fa00}}@keyframes _ngcontent-%COMP%_bounce{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}@keyframes _ngcontent-%COMP%_progressLoad{0%{width:0%}50%{width:70%}to{width:100%}}@keyframes _ngcontent-%COMP%_gradientMove{0%{background-position:0% 50%}to{background-position:200% 50%}}.edit-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.form-label[_ngcontent-%COMP%]{color:#60a5fa;font-size:.95rem;font-weight:600;display:flex;align-items:center}.form-input-modern[_ngcontent-%COMP%], .form-select-modern[_ngcontent-%COMP%]{width:100%;padding:.75rem;background:#161b22f2;border:2px solid rgba(96,165,250,.3);border-radius:10px;color:#e6edf3;font-size:.95rem;font-weight:500;transition:all .3s ease}.form-input-modern[_ngcontent-%COMP%]::placeholder, .form-select-modern[_ngcontent-%COMP%]::placeholder{color:#8b949e}.form-input-modern[_ngcontent-%COMP%]:focus, .form-select-modern[_ngcontent-%COMP%]:focus{outline:none;border-color:#60a5fa;background:#161b22;box-shadow:0 0 0 4px #60a5fa33}.form-select-modern[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background:#161b22;color:#e6edf3;padding:.5rem}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:1rem}.form-group-switch[_ngcontent-%COMP%]{padding:1rem;background:#60a5fa0d;border:2px solid rgba(96,165,250,.2);border-radius:12px;margin:.5rem 0}.switch-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.switch-input[_ngcontent-%COMP%]{position:absolute;opacity:0;pointer-events:none}.switch-input[_ngcontent-%COMP%]:checked + .switch-label[_ngcontent-%COMP%]   .switch-status[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669);color:#fff;border-color:#10b981}.switch-label[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%;cursor:pointer;-webkit-user-select:none;user-select:none}.switch-text[_ngcontent-%COMP%]{color:#e6edf3;font-weight:600;font-size:.95rem;display:flex;align-items:center}.switch-status[_ngcontent-%COMP%]{padding:.375rem .875rem;background:#ef444433;border:2px solid rgba(239,68,68,.3);border-radius:20px;color:#ef4444;font-weight:700;font-size:.85rem;transition:all .3s ease;min-width:50px;text-align:center}.file-input-wrapper[_ngcontent-%COMP%]{position:relative}.file-input-modern[_ngcontent-%COMP%]{position:absolute;opacity:0;pointer-events:none;width:0;height:0}.file-input-label[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:.75rem 1.25rem;background:#60a5fa26;border:2px dashed rgba(96,165,250,.3);border-radius:10px;color:#60a5fa;font-weight:600;cursor:pointer;transition:all .3s ease}.file-input-label[_ngcontent-%COMP%]:hover{background:#60a5fa40;border-color:#60a5fa;transform:translateY(-2px)}.card-badges[_ngcontent-%COMP%]{position:absolute;top:.75rem;right:.75rem;display:flex;flex-direction:column;gap:.5rem;z-index:2}.badge-import[_ngcontent-%COMP%]{padding:.375rem .625rem;background:#8b50fbf2;border-radius:20px;color:#fff;font-size:.8rem;font-weight:600;display:flex;align-items:center;gap:.25rem;box-shadow:0 2px 8px #8b50fb66}.badge-stock[_ngcontent-%COMP%]{padding:.375rem .625rem;background:#ef4444f2;border-radius:20px;color:#fff;font-size:.8rem;font-weight:600;display:flex;align-items:center;gap:.25rem;box-shadow:0 2px 8px #ef444466}.card-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:.75rem;padding:.5rem 0;border-top:1px solid rgba(96,165,250,.1);border-bottom:1px solid rgba(96,165,250,.1)}.info-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.375rem;color:#e6edf3;font-size:.85rem}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#60a5fa;font-size:.95rem}@media (max-width: 768px){.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}.modern-modal-body[_ngcontent-%COMP%]{padding:1rem}.switch-container[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:.75rem}.switch-status[_ngcontent-%COMP%]{text-align:center}}@media (max-width: 576px){.form-label[_ngcontent-%COMP%]{font-size:.9rem}.form-input-modern[_ngcontent-%COMP%], .form-select-modern[_ngcontent-%COMP%]{font-size:.9rem;padding:.65rem}.btn-modal-cancel[_ngcontent-%COMP%], .btn-modal-confirm[_ngcontent-%COMP%]{padding:.5rem 1rem;font-size:.85rem}.card-badges[_ngcontent-%COMP%]{top:.5rem;right:.5rem}.badge-import[_ngcontent-%COMP%], .badge-stock[_ngcontent-%COMP%]{font-size:.75rem;padding:.3rem .5rem}}.card-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:.5rem;padding:.4rem 0;border-top:1px solid rgba(96,165,250,.1);border-bottom:1px solid rgba(96,165,250,.1)}.info-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.3rem;color:#e6edf3;font-size:.75rem}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#60a5fa;font-size:.85rem}.card-btn[_ngcontent-%COMP%]{width:100%;padding:.5rem;background:linear-gradient(135deg,#60a5fa,#3b82f6);color:#fff;border:none;border-radius:50px;font-weight:600;font-size:.8rem;display:flex;align-items:center;justify-content:center;transition:all .3s ease}.card-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.75rem}.card-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#3b82f6,#1e40af);transform:translateY(-2px);box-shadow:0 4px 12px #60a5fa66}.card-badges[_ngcontent-%COMP%]{position:absolute;top:.5rem;right:.5rem;display:flex;flex-direction:column;gap:.4rem;z-index:2}.badge-import[_ngcontent-%COMP%]{padding:.3rem .5rem;background:#8b50fbf2;border-radius:15px;color:#fff;font-size:.7rem;font-weight:600;display:flex;align-items:center;gap:.2rem;box-shadow:0 2px 6px #8b50fb66}.badge-stock[_ngcontent-%COMP%]{padding:.3rem .5rem;background:#ef4444f2;border-radius:15px;color:#fff;font-size:.7rem;font-weight:600;display:flex;align-items:center;gap:.2rem;box-shadow:0 2px 6px #ef444466}"]})}}return r})();var Ke=[{path:"inventario",component:Qe,canActivate:[de]},{path:"add-product",component:Ze,canActivate:[de]},{path:"edit-product",component:be,canActivate:[de]}];var Cn=(()=>{class r{static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275mod=Ee({type:r})}static{this.\u0275inj=ke({imports:[ce,We,Re,De.forChild(Ke),ue,fe,be]})}}return r})();export{Cn as WarehouseModule};
