import{J as c,d as o}from"./chunk-DGXXNF4P.js";import{a as r}from"./chunk-ODN5LVDJ.js";var h=(()=>{class e{constructor(){this.cartItems=[],this.cartItemCountSubject=new o(0),this.cartItemCount$=this.cartItemCountSubject.asObservable(),this.loadCartFromStorage()}loadCartFromStorage(){let t=sessionStorage.getItem("cartItems");t&&(this.cartItems=JSON.parse(t),this.updateCount())}saveCartToStorage(){sessionStorage.setItem("cartItems",JSON.stringify(this.cartItems))}getCart(){return this.cartItems}addToCart(t){let s=t.descripcion?.toLowerCase()||"",i;s.includes("resistencia")&&t.descripcion.includes("1/4 W")||s.includes("led")&&s.includes("diodo")?i=this.cartItems.find(a=>a.id===t.id&&a.descripcion===t.descripcion):i=this.cartItems.find(a=>a.id===t.id),i?i.cantidad+=t.cantidad:this.cartItems.push(r({},t)),this.updateCount(),this.saveCartToStorage()}updateCount(){let t=this.cartItems.length;this.cartItemCountSubject.next(t)}setCart(t){this.cartItems=[...t],this.saveCartToStorage(),this.updateCount()}static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275prov=c({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();export{h as a};
