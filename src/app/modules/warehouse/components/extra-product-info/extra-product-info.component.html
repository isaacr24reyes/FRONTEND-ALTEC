<div *ngIf="product" class="product-detail-container">
  <!-- Título del producto -->
  <div class="product-header text-center mb-4">
    <h3 class="product-title">{{ product.descripcion }}</h3>
  </div>

  <div class="row g-4">
    <!-- Imagen del producto -->
    <div class="col-md-6">
      <div class="product-image-section">
        <ng-container *ngIf="product.foto && product.foto !== 'NOT-IMAGE'; else noImage">
          <div class="image-wrapper">
            <img [src]="product.foto" alt="Producto" class="product-image" />
          </div>
        </ng-container>
        <ng-template #noImage>
          <div class="no-image-display">
            <i class="bi bi-image"></i>
            <p>Sin imagen disponible</p>
          </div>
        </ng-template>
      </div>
    </div>

    <!-- Información del producto -->
    <div class="col-md-6">
      <div class="product-info-section">
        <!-- Creado por -->
        <div class="info-item">
          <div class="info-label">
            <i class="bi bi-person-fill me-2"></i>
            Creado por
          </div>
          <div class="info-value">{{ product.createdBy }}</div>
        </div>

        <!-- Categoría -->
        <div class="info-item info-item-category">
          <div class="info-label">
            <i class="bi bi-tag-fill me-2"></i>
            Categoría
          </div>
          <div class="info-value info-value-wrap">
            <span class="badge-category">{{ product.categoria }}</span>
          </div>
        </div>

        <!-- Código -->
        <div class="info-item">
          <div class="info-label">
            <i class="bi bi-upc-scan me-2"></i>
            Código
          </div>
          <div class="info-value">
            <span class="code-badge">{{ product.codigo }}</span>
          </div>
        </div>

        <!-- PVP -->
        <div class="info-item">
          <div class="info-label">
            <i class="bi bi-cash-coin me-2"></i>
            PVP
          </div>
          <div class="info-value price-value">{{ product.pvp | currency }}</div>
        </div>

        <!-- Precio mayorista -->
        <div class="info-item">
          <div class="info-label">
            <i class="bi bi-building me-2"></i>
            Precio mayorista
          </div>
          <div class="info-value price-value-secondary">{{ product.precioMayorista | currency }}</div>
        </div>

        <!-- Precio importación -->
        <div class="info-item">
          <div class="info-label">
            <i class="bi bi-globe me-2"></i>
            Precio importación
          </div>
          <div class="info-value price-value-secondary">{{ product.precioImportacion | currency }}</div>
        </div>

        <!-- Ganancia -->
        <div class="info-item info-item-profit">
          <div class="info-label">
            <i class="bi bi-graph-up-arrow me-2"></i>
            Ganancia
          </div>
          <div class="info-value price-value-profit">
            {{ (product.pvp - product.precioImportacion) | currency }}
            <span class="profit-percentage" *ngIf="product.precioImportacion > 0">
              ({{ ((product.pvp - product.precioImportacion) / product.precioImportacion * 100) | number:'1.0-2' }}%)
            </span>
          </div>
        </div>

        <!-- Stock -->
        <div class="info-item">
          <div class="info-label">
            <i class="bi bi-box-seam me-2"></i>
            Stock
          </div>
          <div class="info-value">
            <span class="stock-badge" [class.low-stock]="product.stock <= 5">
              <i class="bi" [ngClass]="product.stock <= 5 ? 'bi-exclamation-triangle-fill' : 'bi-check-circle-fill'"></i>
              {{ product.stock }} unidades
            </span>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
