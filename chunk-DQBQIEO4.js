import{a as ze,c as Ue}from"./chunk-UTVSNV7J.js";import{a as Y}from"./chunk-EPDUI77S.js";import{a as re}from"./chunk-MP4LVO4K.js";import"./chunk-4VSQG7WE.js";import"./chunk-4QRD2FVP.js";import{a as he}from"./chunk-JBVRINQ4.js";import{c as Le}from"./chunk-YNROWP4N.js";import{a as Oe}from"./chunk-NWLAYIJL.js";import"./chunk-SCRHCU3P.js";import{O as Ae,a as W,b as R,c as P,d as j,e as $,f as Te,g as ae,h as q,i as Ve,k as U,l as H,m as ce,n as le,o as se,q as Ne,r as de,s as me,t as pe}from"./chunk-EVUFTYVY.js";import{$a as v,Aa as m,Ab as N,Ca as Se,Eb as oe,Ga as n,Gb as ne,Ha as o,Ia as h,Ja as X,K as be,Ka as ee,La as w,Na as f,O as T,Oa as d,P as we,Tb as Fe,U as p,V as u,Ya as te,Za as a,_a as E,bb as S,cb as M,db as I,fb as Me,ha as V,hb as Ie,ia as Ee,ja as s,jb as D,ka as F,kb as G,nb as ie,w as Z,wa as x,y as K,yb as ke,zb as B}from"./chunk-C5J53P3W.js";import{a as L,b as z,h as fe,j as Pe}from"./chunk-K4ALXBGI.js";var J=fe(he());Ue();var He=c=>({"text-danger text-decoration-underline":c});function Ye(c,_){if(c&1&&(X(0),h(1,"img",12),ee()),c&2){let e=d(2);s(),m("src",e.product.foto,V)}}function Je(c,_){c&1&&(n(0,"div",13),a(1,"Este producto no tiene imagen."),o())}function Qe(c,_){if(c&1&&(n(0,"div")(1,"div",2)(2,"h4",3),a(3),o()(),n(4,"div",4)(5,"div",5),x(6,Ye,2,1,"ng-container",6)(7,Je,2,0,"ng-template",null,0,ie),o(),n(9,"div",7)(10,"ul",8)(11,"li",9),h(12,"i",10),n(13,"strong"),a(14,"Creado por:"),o(),a(15),o(),n(16,"li",9)(17,"strong"),a(18,"Categor\xEDa:"),o(),a(19),o(),n(20,"li",9)(21,"strong"),a(22,"C\xF3digo:"),o(),a(23),o(),n(24,"li",9)(25,"strong"),a(26,"PVP:"),o(),a(27),D(28,"currency"),o(),n(29,"li",9)(30,"strong"),a(31,"Precio mayorista:"),o(),a(32),D(33,"currency"),o(),n(34,"li",9)(35,"strong"),a(36,"Precio importaci\xF3n:"),o(),a(37),D(38,"currency"),o(),n(39,"li",9)(40,"strong",11),a(41,"Stock:"),o(),a(42),o()()()()()),c&2){let e=te(8),i=d();s(3),E(i.product.descripcion),s(3),m("ngIf",i.product.foto&&i.product.foto!=="NOT-IMAGE")("ngIfElse",e),s(9),v(" ",i.product.createdBy," "),s(4),v(" ",i.product.categoria,""),s(4),v(" ",i.product.codigo,""),s(4),v(" ",G(28,11,i.product.pvp),""),s(5),v(" ",G(33,13,i.product.precioMayorista),""),s(5),v(" ",G(38,15,i.product.precioImportacion),""),s(3),m("ngClass",Ie(17,He,i.product.stock<=5)),s(2),v(" ",i.product.stock," ")}}var De=(()=>{class c{static{this.\u0275fac=function(i){return new(i||c)}}static{this.\u0275cmp=T({type:c,selectors:[["app-extra-product-info"]],inputs:{product:"product"},decls:1,vars:1,consts:[["noImage",""],[4,"ngIf"],[1,"text-center","mb-4"],[1,"fw-bold"],[1,"row"],[1,"col-md-6","text-center"],[4,"ngIf","ngIfElse"],[1,"col-md-6"],[1,"list-group","list-group-flush"],[1,"list-group-item"],[1,"bi","bi-person-fill","me-2",2,"color","#0d6efd"],[3,"ngClass"],["alt","Producto",2,"max-width","100%","height","auto",3,"src"],[1,"text-muted"]],template:function(i,t){i&1&&x(0,Qe,43,19,"div",1),i&2&&m("ngIf",t.product)},dependencies:[ke,N,oe]})}}return c})();function Ke(c,_){if(c&1){let e=w();n(0,"li")(1,"button",32),f("click",function(){let t=p(e).$implicit,r=d(2);return u(r.filtrarCategoria(t))}),a(2),o()()}if(c&2){let e=_.$implicit;s(2),E(e)}}function Xe(c,_){if(c&1&&(X(0),h(1,"img",66),ee()),c&2){let e=d().$implicit;s(),m("src",e.foto,V)}}function et(c,_){c&1&&(n(0,"span"),a(1,"Producto no contiene imagen"),o())}function tt(c,_){if(c&1){let e=w();n(0,"tr",61),f("click",function(){let t=p(e).$implicit,r=d(2);return u(r.openProductModal(t))}),n(1,"td",62),a(2),o(),n(3,"td",63),a(4),o(),n(5,"td",62),a(6),D(7,"currency"),o(),n(8,"td",64),x(9,Xe,2,1,"ng-container",65)(10,et,2,0,"ng-template",null,0,ie),o()()}if(c&2){let e=_.$implicit,i=te(11);s(2),E(e.codigo),s(2),E(e.descripcion),s(2),E(G(7,5,e.pvp)),s(3),m("ngIf",e.foto!=="NOT-IMAGE")("ngIfElse",i)}}function it(c,_){if(c&1){let e=w();n(0,"div")(1,"form",17),f("ngSubmit",function(){p(e);let t=d();return u(t.onSubmit())}),n(2,"div",18)(3,"h1"),a(4,"Consultar en bodega"),o()(),n(5,"div",19)(6,"div",20)(7,"div",21),h(8,"input",22),o()(),n(9,"div",20)(10,"div",23)(11,"div",24)(12,"input",25),f("change",function(){p(e);let t=d();return u(t.toggleImport())}),o(),n(13,"label",26),a(14," Productos de importaci\xF3n "),o()(),n(15,"div",24)(16,"input",27),f("change",function(){p(e);let t=d();return u(t.toggleLowStock())}),o(),n(17,"label",28),a(18," Stock < 5 "),o()(),n(19,"div",29)(20,"button",30),a(21," Filtrar por categor\xEDa "),o(),n(22,"ul",31)(23,"li")(24,"button",32),f("click",function(){p(e);let t=d();return u(t.filtrarCategoria(""))}),a(25,"Todas"),o()(),x(26,Ke,3,1,"li",33),o()()()(),n(27,"div",20)(28,"div",34)(29,"button",35),h(30,"i",36),a(31," Generar cat\xE1logo "),o()()()(),n(32,"div",37)(33,"div",38)(34,"div",39)(35,"div",40)(36,"table",41)(37,"thead")(38,"tr")(39,"th",42),a(40,"C\xF3digo"),o(),n(41,"th",43),a(42,"Descripci\xF3n"),o(),n(43,"th",42),a(44,"PVP"),o(),n(45,"th",42),a(46,"Foto"),o()()(),n(47,"tbody"),x(48,tt,12,7,"tr",44),o()()()()()(),h(49,"hr",45),n(50,"div",37)(51,"div",46)(52,"div",47)(53,"h4"),a(54),o()(),n(55,"div",48)(56,"button",49),f("click",function(){p(e);let t=d();return u(t.onPreviousPage())}),a(57,"Anterior"),o(),n(58,"button",50),f("click",function(){p(e);let t=d();return u(t.onNextPage())}),a(59,"Siguiente"),o()()()(),h(60,"hr",45),n(61,"div",51)(62,"span",52),a(63," Developed by "),n(64,"strong",53),a(65,"SwiFt\xA9"),o(),a(66," (2025). "),o()()(),n(67,"div",54)(68,"div",55)(69,"div",56)(70,"div",57)(71,"h5",58),a(72,"Informaci\xF3n detallada del producto"),o(),h(73,"button",59),o(),n(74,"div",8),h(75,"app-extra-product-info",60),o()()()()()}if(c&2){let e=d();s(),m("formGroup",e.formGroup),s(25),m("ngForOf",e.categories),s(22),m("ngForOf",e.products),s(6),v("Total de productos: ",e.totalCount,""),s(2),m("disabled",e.currentPage===1),s(2),m("disabled",e.currentPage===e.totalPages),s(17),m("product",e.selectedProduct)}}var We=(()=>{class c{constructor(e,i){this.productService=e,this.fb=i,this.allProducts=[],this.products=[],this.totalCount=0,this.currentPage=1,this.totalPages=0,this.pageSize=5,this.isFirstLoad=!0,this.isLoading=!0,this.tipoInventario="estudiante",this.selectedCategory="",this.onlyImport=!1,this.onlyLowStock=!1,this.categories=["Audio y video","Baquelitas","Componentes Electr\xF3nicos","Compuertas e Integrados","Electricidad","Fuentes","Herramientas","Microcontroladores y Arduinos","Modulos y Sensores","Motores","Parlantes","Pilas y Baterias","Plugs y Conectores","Protoboards","Proyectos Y kits","Redes y Comunicaci\xF3n","Transformadores","Otros"]}ngOnInit(){this.formGroup=this.fb.group({searchControl:[""],importCheck:[!1],lowStockCheck:[!1]}),this.getAllProducts(),this.formGroup.get("searchControl").valueChanges.pipe(Z(300),K()).subscribe(()=>{this.currentPage=1,this.applyFilter()})}filtrarCategoria(e,i){i&&i.preventDefault(),this.selectedCategory=e,this.currentPage=1,this.applyFilter()}toggleLowStock(){this.onlyLowStock=this.formGroup.get("lowStockCheck")?.value,this.currentPage=1,this.applyFilter()}toggleImport(){this.onlyImport=this.formGroup.get("importCheck")?.value,this.currentPage=1,this.applyFilter()}getAllProducts(){this.isFirstLoad&&(J.default.Loading.standard("Cargando productos..."),this.isLoading=!0),this.productService.getProducts(1,1e3,"","descripcion","asc").subscribe({next:e=>{this.allProducts=(e.items||[]).map(i=>z(L({},i),{_normDesc:this.normalizeText(`${i.descripcion??""}`),_normCode:this.normalizeText(`${i.codigo??""}`)})),this.applyFilter(),this.isFirstLoad&&(J.default.Loading.remove(),this.isLoading=!1,this.isFirstLoad=!1)},error:e=>{console.error("Error al obtener los productos",e),this.isFirstLoad&&(J.default.Loading.remove(),this.isLoading=!1,this.isFirstLoad=!1)}})}applyFilter(){let e=this.formGroup.get("searchControl").value||"",i=this.tokenize(e),t=this.allProducts;this.selectedCategory&&(t=t.filter(l=>l.categoria===this.selectedCategory)),this.onlyImport&&(t=t.filter(l=>l.isImport===!0||l.isImport===1)),this.onlyLowStock&&(t=t.filter(l=>l.stock<5)),i.length&&(t=t.map(l=>{let C=l._normDesc,g=l._normCode,k=i.every(y=>this.textContainsToken(C,y)||this.textContainsToken(g,y))?this.scoreMatch(C,g,i):-1;return{p:l,score:k}}).filter(l=>l.score>=0).sort((l,C)=>C.score-l.score).map(l=>l.p)),this.totalCount=t.length,this.totalPages=Math.ceil(this.totalCount/this.pageSize)||1;let r=(this.currentPage-1)*this.pageSize;this.products=t.slice(r,r+this.pageSize)}onPreviousPage(){this.currentPage>1&&(this.currentPage--,this.applyFilter())}onNextPage(){this.currentPage<this.totalPages&&(this.currentPage++,this.applyFilter())}openProductModal(e){this.selectedProduct=e;let i=document.getElementById("productModal");i&&new bootstrap.Modal(i).show()}normalizeText(e){return(e||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/\s+/g," ").trim()}tokenize(e){return this.normalizeText(e).match(/[a-z0-9]+/gi)?.map(t=>this.normalizeText(t))??[]}stem(e){return e.replace(/(es|s)$/i,"")}escapeRegExp(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}textContainsToken(e,i){if(!e||!i)return!1;let t=this.escapeRegExp(i),r=this.escapeRegExp(this.stem(i));return e.includes(i)||r&&e.includes(r)||new RegExp(`\\b${t}`,"i").test(e)||new RegExp(`${t}\\b`,"i").test(e)}scoreMatch(e,i,t){let r=0;for(let g of t){let A=this.textContainsToken(i,g),k=this.textContainsToken(e,g);A&&(r+=10),k&&(r+=4);let y=this.escapeRegExp(g);new RegExp(`\\b${y}\\b`).test(e)&&(r+=2),new RegExp(`\\b${y}\\b`).test(i)&&(r+=4),e.startsWith(g)&&(r+=2),i.startsWith(g)&&(r+=3)}let l=t.every(g=>this.textContainsToken(e,g)),C=t.every(g=>this.textContainsToken(i,g));return l&&(r+=5),C&&(r+=8),r}onSubmit(){}descargarPDF(){return Pe(this,null,function*(){if(!this.allProducts||this.allProducts.length===0){console.warn("No hay productos en allProducts");return}J.default.Loading.standard("Generando cat\xE1logo...");let e=new ze("p","mm","a4"),i=e.internal.pageSize.getWidth(),t=20,r=new Date,l={timeZone:"America/Guayaquil",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0},C=new Intl.DateTimeFormat("es-EC",l).format(r),[g,A]=C.split(",");e.addImage("assets/images/Logo-completo.jpeg","JPEG",10,10,40,20),e.setFontSize(16),e.text(this.tipoInventario==="importador"?"CAT\xC1LOGO MAYORISTA":"CAT\xC1LOGO ESTUDIANTES",i/2,20,{align:"center"}),e.setFontSize(10),e.text(`Fecha: ${g.trim()} | Hora: ${A.trim()} (hora de Quito)`,i/2,27,{align:"center"}),e.text("Ubicaci\xF3n: Quito, Villaflora, Rodrigo de Ch\xE1vez. | WhatsApp: (099) 515-9078",i/2,32,{align:"center"}),t=40;for(let k of this.categories){let y=this.allProducts.filter(b=>b.categoria===k&&(this.tipoInventario!=="importador"||b.isImport===!0||b.isImport===1));if(y.length!==0){e.setFontSize(14),e.setTextColor(8,39,79),e.text(k,10,t),t+=8,e.setFontSize(11),e.setTextColor(255,255,255),e.setFillColor(8,39,79),e.rect(10,t,i-20,8,"F"),e.text("C\xF3digo",12,t+6),e.text("Descripci\xF3n",45,t+6),e.text(this.tipoInventario==="importador"?"Precio Mayorista":"PVP",140,t+6),e.text("Imagen",170,t+6),t+=12,e.setTextColor(0,0,0);for(let b of y){t>260&&(e.addPage(),t=20),e.text(b.codigo||"",12,t);let $e=b.descripcion||"",Ce=e.splitTextToSize($e,90),xe=Ce.length*6;e.text(Ce,45,t);let ve=t+xe/2,qe=this.tipoInventario==="importador"?b.precioMayorista:b.pvp;if(e.text(new Intl.NumberFormat("es-EC",{style:"currency",currency:"USD"}).format(qe||0),this.tipoInventario==="importador"?130:140,ve),b.foto&&b.foto!=="NOT-IMAGE")try{let ye=yield this.loadImageAsBase64(b.foto);e.addImage(ye,"JPEG",170,ve-7,20,15)}catch{console.warn("No se pudo cargar imagen:",b.foto)}t+=Math.max(xe,20)}t+=10,t>260&&(e.addPage(),t=20)}}e.save(`${this.tipoInventario==="importador"?"catalogo-mayorista":"catalogo-estudiantes"}-${new Date().toISOString().slice(0,10)}.pdf`),J.default.Loading.remove()})}loadImageAsBase64(e){return new Promise((i,t)=>{let r=new Image;r.crossOrigin="Anonymous",r.onload=()=>{let l=document.createElement("canvas");l.width=r.width,l.height=r.height;let C=l.getContext("2d");if(!C)return t("No se pudo crear contexto");C.drawImage(r,0,0),i(l.toDataURL("image/jpeg"))},r.onerror=t,r.src=e})}static{this.\u0275fac=function(i){return new(i||c)(F(Y),F(de))}}static{this.\u0275cmp=T({type:c,selectors:[["app-inventario"]],decls:22,vars:2,consts:[["noImage",""],[4,"ngIf"],["id","inventarioModal","tabindex","-1","aria-labelledby","inventarioModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content","bg-dark","text-white"],[1,"modal-header","border-0"],["id","inventarioModalLabel",1,"modal-title","w-100"],["type","button","data-bs-dismiss","modal","aria-label","Cerrar",1,"btn-close","btn-close-white"],[1,"modal-body"],[1,"mb-4","text-start"],["for","tipoInventario",1,"form-label"],["id","tipoInventario",1,"form-select","bg-secondary","text-white",3,"ngModelChange","ngModel"],["value","estudiante"],["value","importador"],["value","admin"],[1,"d-grid","gap-2","col-8","mx-auto"],[1,"btn","btn-danger",3,"click"],[1,"login-form",3,"ngSubmit","formGroup"],[1,"text-center"],[1,"container","mt-3"],[1,"row","justify-content-center","mb-4"],[1,"col-12","col-md-8"],["type","search","placeholder","Buscar producto o c\xF3digo...","aria-label","Search","formControlName","searchControl",1,"form-control"],[1,"col-12","col-md-10","d-flex","flex-wrap","justify-content-center","gap-4"],[1,"form-check"],["type","checkbox","id","importCheck","formControlName","importCheck",1,"form-check-input",3,"change"],["for","importCheck",1,"form-check-label","text-white","fw-bold","ms-2"],["type","checkbox","id","lowStockCheck","formControlName","lowStockCheck",1,"form-check-input",3,"change"],["for","lowStockCheck",1,"form-check-label","text-white","fw-bold","ms-2"],[1,"dropdown"],["type","button","id","dropdownCategorias","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-outline-primary","dropdown-toggle"],["aria-labelledby","dropdownCategorias",1,"dropdown-menu"],[1,"dropdown-item",3,"click"],[4,"ngFor","ngForOf"],[1,"col-12","col-md-10","text-end"],["type","button","data-bs-toggle","modal","data-bs-target","#inventarioModal",1,"btn","btn-success"],[1,"bi","bi-box-arrow-down"],[1,"container","mt-5"],[1,"row","justify-content-center"],[1,"col-12"],[1,"table-responsive"],[1,"table","table-bordered","text-center"],[2,"width","10%","background-color","#08274F","color","white","font-weight","bold"],[2,"width","40%","background-color","#08274F","color","white","font-weight","bold"],["style","cursor: pointer;",3,"click",4,"ngFor","ngForOf"],[1,"styled-line"],[1,"row","justify-content-between","align-items-center"],[1,"col-12","col-md-auto","mb-2","mb-md-0"],[1,"col-12","col-md-auto"],[1,"btn","btn-primary","me-2",3,"click","disabled"],[1,"btn","btn-primary",3,"click","disabled"],[1,"text-center","mt-5"],[1,"text-white","small-text"],[2,"color","#8B50FB"],["id","productModal","tabindex","-1","aria-labelledby","productModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-lg","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","productModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Cerrar",1,"btn-close"],[3,"product"],[2,"cursor","pointer",3,"click"],[2,"vertical-align","middle"],[1,"text-break",2,"vertical-align","middle"],[2,"padding","0"],[4,"ngIf","ngIfElse"],["alt","Producto",1,"img-thumbnail",2,"max-width","100px","max-height","80px",3,"src"]],template:function(i,t){i&1&&(x(0,it,76,7,"div",1),n(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"h5",6),a(6,"\xBFC\xF3mo deseas descargar tu cat\xE1logo?"),o(),h(7,"button",7),o(),n(8,"div",8)(9,"div",9)(10,"label",10),a(11,"Cat\xE1logo para:"),o(),n(12,"select",11),I("ngModelChange",function(l){return M(t.tipoInventario,l)||(t.tipoInventario=l),l}),n(13,"option",12),a(14,"Estudiante"),o(),n(15,"option",13),a(16,"Mayorista"),o(),n(17,"option",14),a(18,"Admin"),o()()(),n(19,"div",15)(20,"button",16),f("click",function(){return t.descargarPDF()}),a(21,"\u{1F4C4} Descargar PDF"),o()()()()()()),i&2&&(m("ngIf",!t.isLoading),s(12),S("ngModel",t.tipoInventario))},dependencies:[B,N,q,le,se,R,W,ce,j,$,U,H,ae,De,oe],styles:[".login-form[_ngcontent-%COMP%]{background:#18181c}.login-form[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-family:Acephimere,sans-serif;font-weight:1000;font-size:30px;padding-top:20px}.login-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-family:Acephimere,sans-serif;font-weight:1000;font-size:15px}.login-form[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#fff;font-family:Acephimere,sans-serif;font-weight:1000;font-size:18px;margin-right:10px}.login-form[_ngcontent-%COMP%]   .small-text[_ngcontent-%COMP%]{font-size:.75rem}.login-form[_ngcontent-%COMP%]   .styled-line[_ngcontent-%COMP%]{height:7px;background-color:#8b50fb;margin:20px auto;width:70%}@media (max-width: 576px){.login-form[_ngcontent-%COMP%]{padding:0 10px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:.85rem}.btn[_ngcontent-%COMP%]{width:100%;margin-bottom:10px}.img-thumbnail[_ngcontent-%COMP%]{width:100px}}"]})}}return c})();var O=fe(he());function ot(c,_){if(c&1&&(n(0,"span",27),a(1),o()),c&2){let e=d();s(),E(e.selectedCategory)}}function nt(c,_){if(c&1){let e=w();n(0,"div",30),f("click",function(t){let r=p(e).$implicit,l=d(2);return u(l.selectCategory(r,t))}),a(1),o()}if(c&2){let e=_.$implicit,i=d(2);Se("active",e===i.selectedCategory),s(),v(" ",e," ")}}function rt(c,_){if(c&1&&(n(0,"div",28),x(1,nt,2,3,"div",29),o()),c&2){let e=d();s(),m("ngForOf",e.categories)}}function at(c,_){if(c&1&&(n(0,"div",10)(1,"div",4)(2,"h2",5),a(3,"Previsualizaci\xF3n:"),o(),h(4,"img",31),o()()),c&2){let e=d();s(4),m("src",e.imagePreview,V)}}var Re=(()=>{class c{constructor(e,i,t){this.fb=e,this.productService=i,this.userSessionService=t,this.imagePreview=null,this.userName="",this.categories=["Audio y video","Baquelitas","Componentes Electr\xF3nicos","Compuertas e Integrados","Electricidad","Fuentes","Herramientas","Microcontroladores y Arduinos","Modulos y Sensores","Motores","Parlantes","Pilas y Baterias","Plugs y Conectores","Protoboards","Proyectos Y kits","Redes y Comunicaci\xF3n","Transformadores","Otros"],this.showCategoryList=!1,this.selectedCategory=null,this.formGroup=this.fb.group({productCategory:["",P.required],productCode:["",P.required],isImported:[!1],productStock:["",[P.required,P.pattern("^[0-9]*$")]],productPvp:["",[P.required,P.pattern("^[0-9]+([.,][0-9]{1,2})?$")]],productMp:["",[P.required,P.pattern("^[0-9]+([.,][0-9]{1,2})?$")]],productPi:["",[P.pattern("^[0-9]+([.,][0-9]{1,2})?$")]],productDescription:["",P.required],productImage:[null]}),this.formGroup.get("isImported")?.valueChanges.subscribe(r=>{let l=this.formGroup.get("productPi");r?l?.setValidators([P.required,P.pattern("^[0-9]+([.,][0-9]{1,2})?$")]):(l?.clearValidators(),l?.setValue("")),l?.updateValueAndValidity()}),this.userSessionService.getUserInfo().subscribe(r=>{r&&(this.userName=r.name)})}toggleCategoryList(e){this.showCategoryList=!this.showCategoryList}selectCategory(e,i){i.stopPropagation(),this.selectedCategory=e,this.formGroup.get("productCategory")?.setValue(e),this.showCategoryList=!1}closeOnOutsideClick(e){let i=e.target;!i.closest(".input-multiselect")&&!i.closest(".category-panel")&&(this.showCategoryList=!1)}onSubmit(){if(this.formGroup.invalid){O.default.Notify.failure("Por favor, completa todos los campos requeridos correctamente.");return}O.default.Confirm.show("Confirmaci\xF3n","\xBFEst\xE1s seguro de que deseas subir este producto?","S\xED","No",()=>{O.default.Loading.arrows("Subiendo producto...");let e=this.formGroup.value,i=this.selectedFile??null,t=new FormData;i?t.append("Foto",i,i.name):t.append("Foto","NOT-IMAGE");let r=e.productPvp.replace(".",","),l=e.productMp.replace(".",","),C="0";e.isImported&&e.productPi&&(C=e.productPi.replace(".",",")),t.append("Pvp",r),t.append("Descripcion",e.productDescription),t.append("Categoria",e.productCategory),t.append("IsImport",e.isImported),t.append("Stock",e.productStock),t.append("PrecioMayorista",l),t.append("Codigo",e.productCode),t.append("PrecioImportacion",C),t.append("CreatedBy",this.userName),this.productService.createProduct(t).subscribe(g=>{console.log("Producto creado:",g),setTimeout(()=>{O.default.Loading.remove(),O.default.Notify.success("\xA1Producto subido exitosamente!"),this.formGroup.reset(),this.selectedFile=null,this.imagePreview=null,this.selectedCategory=null,this.formGroup.get("productCategory")?.setValue(""),this.formGroup.get("isImported")?.setValue(!1),this.showCategoryList=!1},2e3)},g=>{O.default.Loading.remove(),O.default.Notify.failure("Error al subir el producto.")})},()=>{O.default.Notify.info("Carga cancelada.")})}onFileSelected(e){let i=e.target;if(i?.files?.[0]){let t=i.files[0];if(!["image/jpeg","image/png"].includes(t.type)){O.default.Notify.failure("Solo se permiten archivos JPG y PNG"),i.value="";return}this.selectedFile=t;let l=new FileReader;l.onloadend=()=>{this.imagePreview=l.result},l.readAsDataURL(t)}}static{this.\u0275fac=function(i){return new(i||c)(F(Ne),F(Y),F(Oe))}}static{this.\u0275cmp=T({type:c,selectors:[["app-add-product"]],hostBindings:function(i,t){i&1&&f("click",function(l){return t.closeOnOutsideClick(l)},!1,Ee)},decls:67,vars:4,consts:[["autocomplete","off",1,"login-form",3,"ngSubmit","formGroup"],[1,"text-center"],[1,"container",2,"max-width","800px"],[1,"row"],[1,"col-12"],[1,"text-left"],[1,"input","input-multiselect",3,"click"],["class","chip",4,"ngIf"],[1,"bi","bi-caret-down-fill","caret"],["class","category-panel",4,"ngIf"],[1,"row","mt-3"],["type","text","id","productCode","formControlName","productCode","placeholder","C\xF3digo..","autocomplete","off",1,"form-control","gray-input"],[1,"col-6"],[1,"form-check","form-switch"],["type","checkbox","id","isImported","formControlName","isImported",1,"form-check-input"],["type","text","id","productStock","formControlName","productStock","placeholder","Stock..","appOnlyNumbers","","autocomplete","off",1,"form-control","gray-input"],["type","text","id","productPvp","formControlName","productPvp","placeholder","PVP..","appOnlyNumbers","","autocomplete","off",1,"form-control","gray-input"],["type","text","id","productMp","formControlName","productMp","placeholder","Precio Mayorista..","appOnlyNumbers","","autocomplete","off",1,"form-control","gray-input"],["type","text","id","productPi","formControlName","productPi","placeholder","Precio Compra..","appOnlyNumbers","","autocomplete","off",1,"form-control","gray-input"],["type","text","id","productDescription","formControlName","productDescription","placeholder","Ingresa la descripci\xF3n del producto","autocomplete","off",1,"form-control","gray-input"],["type","file","id","productImage","formControlName","productImage","accept",".jpg, .jpeg, .png","autocomplete","off",1,"form-control",3,"change"],["class","row mt-3",4,"ngIf"],[1,"text-center","mt-3"],["type","submit",1,"btn","btn-primary"],[1,"text-center","mt-5"],[1,"text-white","small-text"],[2,"color","#8B50FB"],[1,"chip"],[1,"category-panel"],["class","category-option",3,"active","click",4,"ngFor","ngForOf"],[1,"category-option",3,"click"],["alt","Vista previa",1,"img-fluid",2,"max-width","300px","max-height","300px",3,"src"]],template:function(i,t){i&1&&(n(0,"form",0),f("ngSubmit",function(){return t.onSubmit()}),n(1,"div",1)(2,"h1"),a(3,"Ingresar Productos"),o()(),n(4,"div",2)(5,"div",3)(6,"div",4)(7,"h2",5),a(8,"Categor\xEDa:"),o()(),n(9,"div",4)(10,"div",4)(11,"div",6),f("click",function(l){return t.toggleCategoryList(l)}),x(12,ot,2,1,"span",7),h(13,"i",8),o(),x(14,rt,2,1,"div",9),o()()(),n(15,"div",10)(16,"div",4)(17,"h2",5),a(18,"C\xF3digo:"),o()(),n(19,"div",4),h(20,"input",11),o()(),n(21,"div",10)(22,"div",12)(23,"h2",5),a(24,"\xBFEs producto de importaci\xF3n?"),o(),n(25,"div",13),h(26,"input",14),o()()(),n(27,"div",10)(28,"div",12)(29,"h2",5),a(30,"Stock:"),o(),h(31,"input",15),o(),n(32,"div",12)(33,"h2",5),a(34,"PVP:"),o(),h(35,"input",16),o()(),n(36,"div",10)(37,"div",12)(38,"h2",5),a(39,"Precio Mayorista:"),o(),h(40,"input",17),o(),n(41,"div",12)(42,"h2",5),a(43,"Precio de Compra:"),o(),h(44,"input",18),o()(),n(45,"div",10)(46,"div",4)(47,"h2",5),a(48,"Descripci\xF3n:"),o()(),n(49,"div",4),h(50,"input",19),o()(),n(51,"div",10)(52,"div",4)(53,"h2",5),a(54,"Subir Foto:"),o()(),n(55,"div",12)(56,"input",20),f("change",function(l){return t.onFileSelected(l)}),o()()(),x(57,at,5,1,"div",21),o(),n(58,"div",22)(59,"button",23),a(60,"Subir"),o()(),n(61,"div",24)(62,"span",25),a(63," Developed by "),n(64,"strong",26),a(65,"SwiFt\xA9"),o(),a(66," (2025). "),o()()()),i&2&&(m("formGroup",t.formGroup),s(12),m("ngIf",t.selectedCategory),s(2),m("ngIf",t.showCategoryList),s(43),m("ngIf",t.imagePreview))},dependencies:[B,N,q,R,W,j,$,U,H],styles:[".login-form[_ngcontent-%COMP%]{background:#18181c}.login-form[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-family:Acephimere,sans-serif;font-weight:1000;font-size:35px;padding-top:20px}.login-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-family:Acephimere,sans-serif;font-weight:1000;font-size:15px}.login-form[_ngcontent-%COMP%]   .small-text[_ngcontent-%COMP%]{font-size:.75rem}.login-form[_ngcontent-%COMP%]   .gray-input[_ngcontent-%COMP%]{background-color:#18181c;color:#fff}.login-form[_ngcontent-%COMP%]   .gray-input[_ngcontent-%COMP%]::placeholder{color:#7b7979!important}.login-form[_ngcontent-%COMP%]   .gray-input-select[_ngcontent-%COMP%]{background-color:#18181c;color:#fff!important}.login-form[_ngcontent-%COMP%]   .gray-input-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#fff!important;background-color:#18181c}.login-form[_ngcontent-%COMP%]   .input-multiselect[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;background:#18181c;border:1px solid rgba(255,255,255,.12);border-radius:6px;padding:.6rem .8rem;color:#e6f1f6;cursor:pointer;position:relative}.login-form[_ngcontent-%COMP%]   .input-multiselect[_ngcontent-%COMP%]   .chip[_ngcontent-%COMP%]{color:#e6dafe;font-size:1.1rem;line-height:1}.login-form[_ngcontent-%COMP%]   .input-multiselect[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{color:#18181c;cursor:pointer}.login-form[_ngcontent-%COMP%]   .input-multiselect[_ngcontent-%COMP%]   .caret[_ngcontent-%COMP%]{margin-left:auto;color:#9aa2ad;font-size:.9rem}.login-form[_ngcontent-%COMP%]   .category-panel[_ngcontent-%COMP%]{position:absolute;z-index:1000;width:100%;max-width:770px;background:#18181c;border:1px solid rgba(255,255,255,.12);border-radius:6px;margin-top:.35rem;padding:.25rem 0;max-height:288px;overflow-y:auto;box-shadow:0 10px 24px #00000059}.login-form[_ngcontent-%COMP%]   .category-option[_ngcontent-%COMP%]{padding:.65rem .9rem;color:#e6f1f6;cursor:pointer}.login-form[_ngcontent-%COMP%]   .category-option[_ngcontent-%COMP%]:hover{background:#22232b}.login-form[_ngcontent-%COMP%]   .category-option.active[_ngcontent-%COMP%]{background:#2b2740;border-left:3px solid #8B50FB}.login-form[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{width:2.5em;height:1.5em}"]})}}return c})();var Q=fe(he());function ct(c,_){if(c&1){let e=w();n(0,"li")(1,"button",17),f("click",function(){let t=p(e).$implicit,r=d(2);return u(r.filtrarCategoria(t))}),a(2),o()()}if(c&2){let e=_.$implicit;s(2),v(" ",e," ")}}function lt(c,_){if(c&1){let e=w();n(0,"div",34)(1,"div",35),h(2,"img",36),n(3,"div",37)(4,"h6",38),a(5),o(),n(6,"button",39),f("click",function(){let t=p(e).$implicit,r=d(2);return u(r.openModal(t))}),a(7,"Editar"),o()()()()}if(c&2){let e=_.$implicit;s(2),m("src",e.foto,V),s(3),E(e.descripcion)}}function st(c,_){if(c&1&&(n(0,"option",61),a(1),o()),c&2){let e=d(3);m("value",e.categoriaActual),s(),v(" ",e.categoriaActual," ")}}function dt(c,_){if(c&1&&(n(0,"option",61),a(1),o()),c&2){let e=_.$implicit;m("value",e),s(),v(" ",e," ")}}function mt(c,_){if(c&1){let e=w();n(0,"div",40)(1,"form")(2,"div",41)(3,"label",42),a(4,"Categor\xEDa"),o(),n(5,"select",43),I("ngModelChange",function(t){p(e);let r=d(2);return M(r.selectedProduct.categoria,t)||(r.selectedProduct.categoria=t),u(t)}),x(6,st,2,2,"option",44)(7,dt,2,2,"option",45),o()(),n(8,"div",41)(9,"label",46),a(10,"C\xF3digo"),o(),n(11,"input",47),I("ngModelChange",function(t){p(e);let r=d(2);return M(r.selectedProduct.codigo,t)||(r.selectedProduct.codigo=t),u(t)}),o()(),n(12,"div",48)(13,"input",49),I("ngModelChange",function(t){p(e);let r=d(2);return M(r.selectedProduct.isImport,t)||(r.selectedProduct.isImport=t),u(t)}),o(),n(14,"label",50),a(15," \xBFEs importado? "),o()(),n(16,"div",41)(17,"label",46),a(18,"Descripci\xF3n"),o(),n(19,"input",51),I("ngModelChange",function(t){p(e);let r=d(2);return M(r.selectedProduct.descripcion,t)||(r.selectedProduct.descripcion=t),u(t)}),o()(),n(20,"div",52)(21,"div",53)(22,"label",46),a(23,"Stock"),o(),n(24,"input",54),I("ngModelChange",function(t){p(e);let r=d(2);return M(r.selectedProduct.stock,t)||(r.selectedProduct.stock=t),u(t)}),o()(),n(25,"div",53)(26,"label",46),a(27,"PVP"),o(),n(28,"input",55),I("ngModelChange",function(t){p(e);let r=d(2);return M(r.selectedProduct.pvp,t)||(r.selectedProduct.pvp=t),u(t)}),o()()(),n(29,"div",52)(30,"div",53)(31,"label",46),a(32,"Precio Mayorista"),o(),n(33,"input",56),I("ngModelChange",function(t){p(e);let r=d(2);return M(r.selectedProduct.precioMayorista,t)||(r.selectedProduct.precioMayorista=t),u(t)}),o()(),n(34,"div",53)(35,"label",46),a(36,"Precio Importaci\xF3n"),o(),n(37,"input",57),I("ngModelChange",function(t){p(e);let r=d(2);return M(r.selectedProduct.precioImportacion,t)||(r.selectedProduct.precioImportacion=t),u(t)}),o()()(),n(38,"div",41)(39,"label",46),a(40,"Actualizar Foto"),o(),n(41,"input",58),f("change",function(t){p(e);let r=d(2);return u(r.onFileSelected(t))}),o()(),n(42,"div",59)(43,"button",60),f("click",function(){p(e);let t=d(2);return u(t.guardarEdicion())}),a(44,"Guardar Cambios"),o()()()()}if(c&2){let e=d(2);s(5),S("ngModel",e.selectedProduct.categoria),s(),m("ngIf",!e.categoriasValidas.includes(e.categoriaActual)),s(),m("ngForOf",e.categoriasValidas),s(4),S("ngModel",e.selectedProduct.codigo),s(2),S("ngModel",e.selectedProduct.isImport),s(6),S("ngModel",e.selectedProduct.descripcion),s(5),S("ngModel",e.selectedProduct.stock),s(4),S("ngModel",e.selectedProduct.pvp),s(5),S("ngModel",e.selectedProduct.precioMayorista),s(4),S("ngModel",e.selectedProduct.precioImportacion)}}function pt(c,_){if(c&1){let e=w();n(0,"div")(1,"form",1),f("ngSubmit",function(){p(e);let t=d();return u(t.onSubmit())}),n(2,"div",2)(3,"h1"),a(4,"Editar Productos"),o()(),n(5,"div",3)(6,"div",4)(7,"form",5),h(8,"input",6),o()()(),n(9,"div",7)(10,"div",8)(11,"div",9)(12,"input",10),f("change",function(){p(e);let t=d();return u(t.toggleImport())}),o(),n(13,"label",11),a(14," Productos de importaci\xF3n "),o()(),n(15,"div",9)(16,"input",12),f("change",function(){p(e);let t=d();return u(t.toggleLowStock())}),o(),n(17,"label",11),a(18," Stock < 5 "),o()(),n(19,"div",9)(20,"input",13),f("change",function(){p(e);let t=d();return u(t.toggleNoImage())}),o(),n(21,"label",11),a(22," Sin imagen "),o()(),n(23,"div",14)(24,"button",15),a(25," Filtrar por categor\xEDa "),o(),n(26,"ul",16)(27,"li")(28,"button",17),f("click",function(){p(e);let t=d();return u(t.filtrarCategoria(""))}),a(29," Todas "),o()(),x(30,ct,3,1,"li",18),o()()()()(),n(31,"div",19)(32,"div",20),x(33,lt,8,2,"div",21),o()(),n(34,"div",22)(35,"div",23)(36,"div",24)(37,"div",25)(38,"h5",26),a(39,"Editar Producto"),o(),h(40,"button",27),o(),x(41,mt,45,10,"div",28),o()()(),h(42,"hr",29),n(43,"div",30)(44,"p",31),a(45),o(),n(46,"div")(47,"button",32),f("click",function(){p(e);let t=d();return u(t.onPreviousPage())}),a(48,"Anterior"),o(),n(49,"button",33),f("click",function(){p(e);let t=d();return u(t.onNextPage())}),a(50,"Siguiente"),o()()()()}if(c&2){let e=d();s(),m("formGroup",e.formGroup),s(6),m("formGroup",e.formGroup),s(23),m("ngForOf",e.categoriasValidas),s(3),m("ngForOf",e.products),s(8),m("ngIf",e.selectedProduct),s(4),v("Total de productos: ",e.totalCount,""),s(2),m("disabled",e.currentPage===1),s(2),m("disabled",e.currentPage===e.totalPages)}}var ge=(()=>{class c{constructor(e,i){this.productService=e,this.fb=i,this.allProducts=[],this.filteredProducts=[],this.products=[],this.currentPage=1,this.pageSize=25,this.totalCount=0,this.totalPages=0,this.categoriasValidas=["Audio y video","Baquelitas","Compuertas e Integrados","Componentes Electr\xF3nicos","Electricidad","Fuentes","Herramientas","Microcontroladores y Arduinos","Modulos y Sensores","Motores","Parlantes","Pilas y Baterias","Plugs y Conectores","Proyectos Y kits","Protoboards","Redes y Comunicaci\xF3n","Transformadores","Otros"],this.selectedCategory="",this.onlyImport=!1,this.onlyLowStock=!1,this.categoriaActual="",this.isFirstLoad=!0,this.isLoading=!0,this.onlyNoImage=!1}ngOnInit(){this.selectedProduct&&(this.categoriaActual=this.selectedProduct.categoria||""),this.formGroup=this.fb.group({searchControl:[""],importCheck:[!1],lowStockCheck:[!1],noImageCheck:[!1]}),this.getProducts(),this.formGroup.get("searchControl")?.valueChanges.pipe(Z(300),K()).subscribe(()=>{this.currentPage=1,this.getProducts()})}getProducts(){this.allProducts.length?this.applyFilter():(this.isFirstLoad&&(Q.default.Loading.standard("Cargando productos..."),this.isLoading=!0),this.productService.getProducts(1,1e3,"").subscribe({next:e=>{let i=e?.items??[];this.allProducts=i.map(t=>z(L({},t),{_normDesc:this.normalizeText(`${t.descripcion??""}`),_normCode:this.normalizeText(`${t.codigo??""}`)})),this.applyFilter(),this.isFirstLoad&&(Q.default.Loading.remove(),this.isLoading=!1,this.isFirstLoad=!1)},error:e=>{console.error("Error al obtener productos:",e),this.isFirstLoad&&(Q.default.Loading.remove(),this.isLoading=!1,this.isFirstLoad=!1)}}))}applyFilter(){let e=this.formGroup.get("searchControl")?.value||"",i=this.tokenize(e),t=this.allProducts;this.selectedCategory&&(t=t.filter(l=>l.categoria===this.selectedCategory)),this.onlyImport&&(t=t.filter(l=>l.isImport===!0||l.isImport===1)),this.onlyLowStock&&(t=t.filter(l=>l.stock<5)),this.onlyNoImage&&(t=t.filter(l=>l.foto==="NOT-IMAGE")),i.length&&(t=t.map(l=>{let C=l._normDesc,g=l._normCode,k=i.every(y=>this.textContainsToken(C,y)||this.textContainsToken(g,y))?this.scoreMatch(C,g,i):-1;return{p:l,score:k}}).filter(l=>l.score>=0).sort((l,C)=>C.score-l.score).map(l=>l.p)),this.filteredProducts=t,this.totalCount=t.length,this.totalPages=Math.ceil(this.totalCount/this.pageSize)||1;let r=(this.currentPage-1)*this.pageSize;this.products=t.slice(r,r+this.pageSize)}onPreviousPage(){this.currentPage>1&&(this.currentPage--,this.applyFilter())}onNextPage(){this.currentPage<this.totalPages&&(this.currentPage++,this.applyFilter())}openModal(e){this.selectedProduct=z(L({},e),{isImport:this.convertToBoolean(e.isImport)});let i=document.getElementById("productModal");i&&new bootstrap.Modal(i).show()}convertToBoolean(e){return typeof e=="boolean"?e:typeof e=="number"?e===1:typeof e=="string"?e.toLowerCase()==="true"||e==="1":!1}guardarEdicion(){this.selectedProduct&&this.productService.updateProduct(this.selectedProduct.id,this.selectedProduct).subscribe(e=>{let i=this.allProducts.findIndex(t=>t.id===e.id);i!==-1&&(this.allProducts[i]=z(L({},e),{_normDesc:this.normalizeText(`${e.descripcion??""}`),_normCode:this.normalizeText(`${e.codigo??""}`)})),this.applyFilter(),this.closeModal(),Q.default.Report.success("Producto actualizado","El producto ha sido actualizado correctamente.","Aceptar")},e=>{console.error("Error al actualizar el producto",e),Q.default.Report.failure("Error","Hubo un problema al actualizar el producto.","Cerrar")})}closeModal(){let e=document.getElementById("productModal");e&&bootstrap.Modal.getInstance(e)?.hide()}onSubmit(){this.currentPage=1,this.applyFilter()}onFileSelected(e){let i=e.target.files[0];i&&this.selectedProduct&&(this.selectedProduct.archivo=i)}normalizeText(e){return(e||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/\s+/g," ").trim()}tokenize(e){return this.normalizeText(e).match(/[a-z0-9]+/gi)?.map(t=>this.normalizeText(t))??[]}stem(e){return e.replace(/(es|s)$/i,"")}escapeRegExp(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}textContainsToken(e,i){if(!e||!i)return!1;let t=this.escapeRegExp(i),r=this.escapeRegExp(this.stem(i));return e.includes(i)||r&&e.includes(r)||new RegExp(`\\b${t}`,"i").test(e)||new RegExp(`${t}\\b`,"i").test(e)}scoreMatch(e,i,t){let r=0;for(let g of t){let A=this.textContainsToken(i,g),k=this.textContainsToken(e,g);A&&(r+=10),k&&(r+=4);let y=this.escapeRegExp(g);new RegExp(`\\b${y}\\b`).test(e)&&(r+=2),new RegExp(`\\b${y}\\b`).test(i)&&(r+=4),e.startsWith(g)&&(r+=2),i.startsWith(g)&&(r+=3)}let l=t.every(g=>this.textContainsToken(e,g)),C=t.every(g=>this.textContainsToken(i,g));return l&&(r+=5),C&&(r+=8),r}filtrarCategoria(e){this.selectedCategory=e,this.currentPage=1,this.applyFilter()}toggleImport(){this.onlyImport=this.formGroup.get("importCheck")?.value,this.currentPage=1,this.applyFilter()}toggleLowStock(){this.onlyLowStock=this.formGroup.get("lowStockCheck")?.value,this.currentPage=1,this.applyFilter()}toggleNoImage(){this.onlyNoImage=this.formGroup.get("noImageCheck")?.value,this.currentPage=1,this.applyFilter()}static{this.\u0275fac=function(i){return new(i||c)(F(Y),F(de))}}static{this.\u0275cmp=T({type:c,selectors:[["app-edit-product"]],standalone:!0,features:[Me],decls:1,vars:1,consts:[[4,"ngIf"],[1,"product-quote-form",3,"ngSubmit","formGroup"],[1,"text-center"],[1,"container","d-flex","justify-content-center","mt-3"],[1,"d-flex",2,"width","70%","justify-content","center"],[1,"w-100",3,"formGroup"],["type","search","placeholder","Buscar producto...","aria-label","Search","formControlName","searchControl",1,"form-control","me-2"],[1,"row","justify-content-center","mt-4","mb-4","filters-container"],[1,"col-12","col-md-10","d-flex","flex-wrap","justify-content-center","gap-4"],[1,"form-check"],["type","checkbox","formControlName","importCheck",1,"form-check-input",3,"change"],[1,"form-check-label","fw-bold","ms-2","text-white"],["type","checkbox","formControlName","lowStockCheck",1,"form-check-input",3,"change"],["type","checkbox","formControlName","noImageCheck",1,"form-check-input",3,"change"],[1,"dropdown"],["type","button","data-bs-toggle","dropdown",1,"btn","btn-outline-primary","dropdown-toggle","text-white"],[1,"dropdown-menu","bg-dark"],[1,"dropdown-item","text-white",3,"click"],[4,"ngFor","ngForOf"],[1,"container","mt-4"],[1,"row","row-cols-1","row-cols-sm-2","row-cols-md-3","row-cols-lg-4","row-cols-xl-5","g-4"],["class","col",4,"ngFor","ngForOf"],["id","productModal","tabindex","-1","aria-labelledby","productModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-lg"],[1,"modal-content","bg-dark","text-white"],[1,"modal-header"],["id","productModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Cerrar",1,"btn-close","btn-close-white"],["class","modal-body",4,"ngIf"],[1,"mt-4","border-top","border-primary","border-2","opacity-25"],[1,"d-flex","justify-content-between","align-items-center","mt-3","px-2"],[1,"mb-0","fw-bold","text-white"],[1,"btn","btn-primary","me-2",3,"click","disabled"],[1,"btn","btn-primary",3,"click","disabled"],[1,"col"],[1,"card","h-100","text-white","bg-dark","border-light"],["alt","Imagen",1,"card-img-top",3,"src"],[1,"card-body","text-center"],[1,"card-title"],[1,"btn","btn-primary","btn-sm","w-100",3,"click"],[1,"modal-body"],[1,"mb-3"],["for","categoria",1,"lbl"],["id","categoria","name","categoria",1,"select",3,"ngModelChange","ngModel"],[3,"value",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"form-label"],["type","text","name","codigo",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-check","form-switch","mb-3"],["type","checkbox","id","isimportCheck","name","isImport",1,"form-check-input",3,"ngModelChange","ngModel"],["for","isimportCheck",1,"form-check-label"],["type","text","name","descripcion",1,"form-control",3,"ngModelChange","ngModel"],[1,"mb-3","d-flex","gap-2"],[1,"flex-fill"],["type","number","name","stock",1,"form-control",3,"ngModelChange","ngModel"],["type","number","name","pvp",1,"form-control",3,"ngModelChange","ngModel"],["type","number","name","precioMayorista",1,"form-control",3,"ngModelChange","ngModel"],["type","number","name","precioImportacion",1,"form-control",3,"ngModelChange","ngModel"],["type","file",1,"form-control",3,"change"],[1,"text-end"],["type","button",1,"btn","btn-success",3,"click"],[3,"value"]],template:function(i,t){i&1&&x(0,pt,51,8,"div",0),i&2&&m("ngIf",!t.isLoading)},dependencies:[pe,q,le,se,R,Ve,W,ce,j,$,U,H,me,ae,Te,ne,B,N],styles:[".product-quote-form[_ngcontent-%COMP%]{background:#18181c}.product-quote-form[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-family:Acephimere,sans-serif;font-weight:1000;font-size:30px;padding-top:20px}.product-quote-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-family:Acephimere,sans-serif;font-weight:1000;font-size:15px}.product-quote-form[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .product-quote-form[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:#fff;font-family:Acephimere,sans-serif;font-weight:1000;font-size:18px;margin-right:10px}.product-quote-form[_ngcontent-%COMP%]   .small-text[_ngcontent-%COMP%]{font-size:.75rem}.product-quote-form[_ngcontent-%COMP%]   .styled-line[_ngcontent-%COMP%]{height:7px;background-color:#8b50fb;margin:20px auto;width:70%}.product-quote-form[_ngcontent-%COMP%]   .eliminar-columna[_ngcontent-%COMP%]{display:none}.card-img-top[_ngcontent-%COMP%]{height:140px;object-fit:cover;border-bottom:1px solid #444}[_nghost-%COMP%]{display:block;background-color:#18181c;min-height:100vh;padding-bottom:2rem}"]})}}return c})();var je=[{path:"inventario",component:We,canActivate:[re]},{path:"add-product",component:Re,canActivate:[re]},{path:"edit-product",component:ge,canActivate:[re]}];var $t=(()=>{class c{static{this.\u0275fac=function(i){return new(i||c)}}static{this.\u0275mod=we({type:c})}static{this.\u0275inj=be({imports:[ne,Ae,Le,Fe.forChild(je),pe,me,ge]})}}return c})();export{$t as WarehouseModule};
